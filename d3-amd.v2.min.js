define([],function(){function e(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(d){a.prototype=b}}function g(a){var b=-1,c=a.length,d=[];while(++b<c)d.push(a[b]);return d}function h(a){return Array.prototype.slice.call(a)}function k(){}function n(a){return a}function o(){return this}function p(){return!0}function q(a){return typeof a=="function"?a:function(){return a}}function r(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?a:d}}function s(a){return a!=null&&!isNaN(a)}function t(a){return a.length}function v(a){return a==null}function w(a){return a.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")}function x(a){var b=1;while(a*b%1)b*=10;return b}function A(){}function B(a){function d(){var c=b,d=-1,e=c.length,f;while(++d<e)(f=c[d].on)&&f.apply(this,arguments);return a}var b=[],c=new k;return d.on=function(d,e){var f=c.get(d),g;return arguments.length<2?f&&f.on:(f&&(f.on=null,b=b.slice(0,g=b.indexOf(f)).concat(b.slice(g+1)),c.remove(d)),e&&b.push(c.set(d,{on:e})),a)},d}function E(a,b){return b-(a?1+Math.floor(Math.log(a+Math.pow(10,1+Math.floor(Math.log(a)/Math.LN10)-b))/Math.LN10):1)}function F(a){return a+""}function G(a){var b=a.lastIndexOf("."),c=b>=0?a.substring(b):(b=a.length,""),d=[];while(b>0)d.push(a.substring(b-=3,b+3));return d.reverse().join(",")+c}function I(a,b){var c=Math.pow(10,Math.abs(8-b)*3);return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function O(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function P(a){return function(b){return 1-a(1-b)}}function Q(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function R(a){return a}function S(a){return function(b){return Math.pow(b,a)}}function T(a){return 1-Math.cos(a*Math.PI/2)}function U(a){return Math.pow(2,10*(a-1))}function V(a){return 1-Math.sqrt(1-a*a)}function W(a,b){var c;return arguments.length<2&&(b=.45),arguments.length<1?(a=1,c=b/4):c=b/(2*Math.PI)*Math.asin(1/a),function(d){return 1+a*Math.pow(2,10*-d)*Math.sin((d-c)*2*Math.PI/b)}}function X(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Y(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Z(){a.event.stopPropagation(),a.event.preventDefault()}function $(){var b=a.event,c;while(c=b.sourceEvent)b=c;return b}function _(b){var c=new A,d=0,e=arguments.length;while(++d<e)c[arguments[d]]=B(c);return c.of=function(d,e){return function(f){try{var g=f.sourceEvent=a.event;f.target=b,a.event=f,c[f.type].apply(d,e)}finally{a.event=g}}},c}function ba(a){var b=[a.a,a.b],c=[a.c,a.d],d=bc(b),e=bb(b,c),f=bc(bd(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*be,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*be:0}function bb(a,b){return a[0]*b[0]+a[1]*b[1]}function bc(a){var b=Math.sqrt(bb(a,a));return b&&(a[0]/=b,a[1]/=b),b}function bd(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function bi(a){return{getItem:function(b){return{type:a.getItem(b).type,angle:0,matrix:bf}}}}function bk(b){return b=="transform"?a.interpolateTransform:a.interpolate}function bl(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return(c-a)*b}}function bm(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function bn(a,b,c){return new bo(a,b,c)}function bo(a,b,c){this.r=a,this.g=b,this.b=c}function bp(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function bq(a,b,c){var d=0,e=0,f=0,g,h,i;g=/([a-z]+)\((.*)\)/i.exec(a);if(g){h=g[2].split(",");switch(g[1]){case"hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case"rgb":return b(bs(h[0]),bs(h[1]),bs(h[2]))}}return(i=bt.get(a))?b(i.r,i.g,i.b):(a!=null&&a.charAt(0)==="#"&&(a.length===4?(d=a.charAt(1),d+=d,e=a.charAt(2),e+=e,f=a.charAt(3),f+=f):a.length===7&&(d=a.substring(1,3),e=a.substring(3,5),f=a.substring(5,7)),d=parseInt(d,16),e=parseInt(e,16),f=parseInt(f,16)),b(d,e,f))}function br(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g,h,i=(e+d)/2;return f?(h=i<.5?f/(e+d):f/(2-e-d),a==e?g=(b-c)/f+(b<c?6:0):b==e?g=(c-a)/f+2:g=(a-b)/f+4,g*=60):h=g=0,bu(g,h,i)}function bs(a){var b=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(b*2.55):b}function bu(a,b,c){return new bv(a,b,c)}function bv(a,b,c){this.h=a,this.s=b,this.l=c}function bw(a,b,c){function f(a){return a>360?a-=360:a<0&&(a+=360),a<60?d+(e-d)*a/60:a<180?e:a<240?d+(e-d)*(240-a)/60:d}function g(a){return Math.round(f(a)*255)}var d,e;return a%=360,a<0&&(a+=360),b=b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,e=c<=.5?c*(1+b):c+b-c*b,d=2*c-e,bn(g(a+120),g(a),g(a-120))}function bx(a){return j(a,bD),a}function bE(a){return function(){return by(a,this)}}function bF(a){return function(){return bz(a,this)}}function bG(b,c){function g(){if(a=this.classList)return a.add(b);var a=this.className,c=a.baseVal!=null,e=c?a.baseVal:a;d.lastIndex=0,d.test(e)||(e=w(e+" "+b),c?a.baseVal=e:this.className=e)}function h(){if(a=this.classList)return a.remove(b);var a=this.className,c=a.baseVal!=null,e=c?a.baseVal:a;e&&(e=w(e.replace(d," ")),c?a.baseVal=e:this.className=e)}function i(){(c.apply(this,arguments)?g:h).call(this)}var d=new RegExp("(^|\\s+)"+a.requote(b)+"(\\s+|$)","g");if(arguments.length<2){var e=this.node();if(f=e.classList)return f.contains(b);var f=e.className;return d.lastIndex=0,d.test(f.baseVal!=null?f.baseVal:f)}return this.each(typeof c=="function"?i:c?g:h)}function bH(a){return{__data__:a}}function bI(a){return function(){return bC(this,a)}}function bJ(b){return arguments.length||(b=a.ascending),function(a,c){return b(a&&a.__data__,c&&c.__data__)}}function bK(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function bM(a){return j(a,bN),a}function bO(b,c,d){j(b,bS);var e=new k,f=a.dispatch("start","end"),g=b$;return b.id=c,b.time=d,b.tween=function(a,c){return arguments.length<2?e.get(a):(c==null?e.remove(a):e.set(a,c),b)},b.ease=function(c){return arguments.length?(g=typeof c=="function"?c:a.ease.apply(a,arguments),b):g},b.each=function(a,c){return arguments.length<2?b_.call(b,a):(f.on(a,c),b)},a.timer(function(h){return bK(b,function(b,i,j){function p(g){return n.active>c?r():(n.active=c,e.forEach(function(a,c){(c=c.call(b,o,i))&&k.push(c)}),f.start.call(b,o,i),q(g)||a.timer(q,0,d),1)}function q(a){if(n.active!==c)return r();var d=(a-l)/m,e=g(d),h=k.length;while(h>0)k[--h].call(b,e);if(d>=1)return r(),bU=c,f.end.call(b,o,i),bU=0,1}function r(){return--n.count||delete b.__transition__,1}var k=[],l=b.delay,m=b.duration,n=(b=b.node).__transition__||(b.__transition__={active:0,count:0}),o=b.__data__;++n.count,l<=h?p(h):a.timer(p,l,d)})},0,d),b}function bQ(a,b,c){return c!=""&&bP}function bR(a,b){function d(a,d,e){var f=b.call(this,a,d);return f==null?e!=""&&bP:e!=f&&c(e,f)}function e(a,d,e){return e!=b&&c(e,b)}var c=bk(a);return typeof b=="function"?d:b==null?bQ:(b+="",e)}function b_(a){var b=bU,c=b$,d=bY,e=bZ;return bU=this.id,b$=this.ease(),bK(this,function(b,c,d){bY=b.delay,bZ=b.duration,a.call(b=b.node,b.__data__,c,d)}),bU=b,b$=c,bY=d,bZ=e,this}function cd(){var a,b=Date.now(),c=ca;while(c)a=b-c.then,a>=c.delay&&(c.flush=c.callback(a)),c=c.next;var d=ce()-b;d>24?(isFinite(d)&&(clearTimeout(cc),cc=setTimeout(cd,d)),cb=0):(cb=1,cf(cd))}function ce(){var a=null,b=ca,c=Infinity;while(b)b.flush?b=a?a.next=b.next:ca=b.next:(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c}function ch(b,c){var d=b.ownerSVGElement||b;if(d.createSVGPoint){var e=d.createSVGPoint();if(cg<0&&(window.scrollX||window.scrollY)){d=a.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var f=d[0][0].getScreenCTM();cg=!f.f&&!f.e,d.remove()}return cg?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(b.getScreenCTM().inverse()),[e.x,e.y]}var g=b.getBoundingClientRect();return[c.clientX-g.left-b.clientLeft,c.clientY-g.top-b.clientTop]}function ci(){}function cj(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function ck(a){return a.rangeExtent?a.rangeExtent():cj(a.range())}function cl(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);if(g=f-e)b=b(g),a[c]=b.floor(e),a[d]=b.ceil(f);return a}function cm(){return Math}function cn(b,c,d,e){function h(){var h=Math.min(b.length,c.length)>2?cu:ct,j=e?bm:bl;return f=h(b,c,j,d),g=h(c,b,j,a.interpolate),i}function i(a){return f(a)}var f,g;return i.invert=function(a){return g(a)},i.domain=function(a){return arguments.length?(b=a.map(Number),h()):b},i.range=function(a){return arguments.length?(c=a,h()):c},i.rangeRound=function(b){return i.range(b).interpolate(a.interpolateRound)},i.clamp=function(a){return arguments.length?(e=a,h()):e},i.interpolate=function(a){return arguments.length?(d=a,h()):d},i.ticks=function(a){return cr(b,a)},i.tickFormat=function(a){return cs(b,a)},i.nice=function(){return cl(b,cp),h()},i.copy=function(){return cn(b,c,d,e)},h()}function co(b,c){return a.rebind(b,c,"range","rangeRound","interpolate","clamp")}function cp(a){return a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1),{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function cq(a,b){var c=cj(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+e*.5,c[2]=e,c}function cr(b,c){return a.range.apply(a,cq(b,c))}function cs(b,c){return a.format(",."+Math.max(0,-Math.floor(Math.log(cq(b,c)[2])/Math.LN10+.01))+"f")}function ct(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function cu(b,c,d,e){var f=[],g=[],h=0,i=Math.min(b.length,c.length)-1;b[i]<b[0]&&(b=b.slice().reverse(),c=c.slice().reverse());while(++h<=i)f.push(d(b[h-1],b[h])),g.push(e(c[h-1],c[h]));return function(c){var d=a.bisect(b,c,1,i)-1;return g[d](f[d](c))}}function cv(a,b){function d(c){return a(b(c))}var c=b.pow;return d.invert=function(b){return c(a.invert(b))},d.domain=function(e){return arguments.length?(b=e[0]<0?cy:cx,c=b.pow,a.domain(e.map(b)),d):a.domain().map(c)},d.nice=function(){return a.domain(cl(a.domain(),cm)),d},d.ticks=function(){var d=cj(a.domain()),e=[];if(d.every(isFinite)){var f=Math.floor(d[0]),g=Math.ceil(d[1]),h=c(d[0]),i=c(d[1]);if(b===cy){e.push(c(f));for(;f++<g;)for(var j=9;j>0;j--)e.push(c(f)*j)}else{for(;f<g;f++)for(var j=1;j<10;j++)e.push(c(f)*j);e.push(c(f))}for(f=0;e[f]<h;f++);for(g=e.length;e[g-1]>i;g--);e=e.slice(f,g)}return e},d.tickFormat=function(a,e){arguments.length<2&&(e=cw);if(arguments.length<1)return e;var f=Math.max(.1,a/d.ticks().length),g=b===cy?(h=-1e-12,Math.floor):(h=1e-12,Math.ceil),h;return function(a){return a/c(g(b(a)+h))<=f?e(a):""}},d.copy=function(){return cv(a.copy(),b)},co(d,a)}function cx(a){return Math.log(a<0?0:a)/Math.LN10}function cy(a){return-Math.log(a>0?0:-a)/Math.LN10}function cz(a,b){function e(b){return a(c(b))}var c=cA(b),d=cA(1/b);return e.invert=function(b){return d(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain(b.map(c)),e):a.domain().map(d)},e.ticks=function(a){return cr(e.domain(),a)},e.tickFormat=function(a){return cs(e.domain(),a)},e.nice=function(){return e.domain(cl(e.domain(),cp))},e.exponent=function(a){if(!arguments.length)return b;var f=e.domain();return c=cA(b=a),d=cA(1/b),e.domain(f)},e.copy=function(){return cz(a.copy(),b)},co(e,a)}function cA(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function cB(b,c){function g(a){return e[((d.get(a)||d.set(a,b.push(a)))-1)%e.length]}function h(c,d){return a.range(b.length).map(function(a){return c+d*a})}var d,e,f;return g.domain=function(a){if(!arguments.length)return b;b=[],d=new k;var e=-1,f=a.length,h;while(++e<f)d.has(h=a[e])||d.set(h,b.push(h));return g[c.t](c.x,c.p)},g.range=function(a){return arguments.length?(e=a,f=0,c={t:"range",x:a},g):e},g.rangePoints=function(a,d){arguments.length<2&&(d=0);var i=a[0],j=a[1],k=(j-i)/(b.length-1+d);return e=h(b.length<2?(i+j)/2:i+k*d/2,k),f=0,c={t:"rangePoints",x:a,p:d},g},g.rangeBands=function(a,d){arguments.length<2&&(d=0);var i=a[1]<a[0],j=a[i-0],k=a[1-i],l=(k-j)/(b.length+d);return e=h(j+l*d,l),i&&e.reverse(),f=l*(1-d),c={t:"rangeBands",x:a,p:d},g},g.rangeRoundBands=function(a,d){arguments.length<2&&(d=0);var i=a[1]<a[0],j=a[i-0],k=a[1-i],l=Math.floor((k-j)/(b.length+d)),m=k-j-(b.length-d)*l;return e=h(j+Math.round(m/2),l),i&&e.reverse(),f=Math.round(l*(1-d)),c={t:"rangeRoundBands",x:a,p:d},g},g.rangeBand=function(){return f},g.rangeExtent=function(){return cj(c.x)},g.copy=function(){return cB(b,c)},g.domain(b)}function cG(b,c){function e(){var e=0,g=b.length,h=c.length;d=[];while(++e<h)d[e-1]=a.quantile(b,e/h);return f}function f(b){return isNaN(b=+b)?NaN:c[a.bisect(d,b)]}var d;return f.domain=function(c){return arguments.length?(b=c.filter(function(a){return!isNaN(a)}).sort(a.ascending),e()):b},f.range=function(a){return arguments.length?(c=a,e()):c},f.quantiles=function(){return d},f.copy=function(){return cG(b,c)},e()}function cH(a,b,c){function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function g(){return d=c.length/(b-a),e=c.length-1,f}var d,e;return f.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],g()):[a,b]},f.range=function(a){return arguments.length?(c=a,g()):c},f.copy=function(){return cH(a,b,c)},g()}function cI(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return cr(a,b)},b.tickFormat=function(b){return cs(a,b)},b.copy=function(){return cI(a)},b}function cL(a){return a.innerRadius}function cM(a){return a.outerRadius}function cN(a){return a.startAngle}function cO(a){return a.endAngle}function cP(a){function h(e){function o(){h.push("M",f(a(i),g))}var h=[],i=[],j=-1,k=e.length,l,m=q(b),n=q(c);while(++j<k)d.call(this,l=e[j],j)?i.push([+m.call(this,l,j),+n.call(this,l,j)]):i.length&&(o(),i=[]);return i.length&&o(),h.length?h.join(""):null}var b=cQ,c=cR,d=p,e=cS,f=cU,g=.7;return h.x=function(a){return arguments.length?(b=a,h):b},h.y=function(a){return arguments.length?(c=a,h):c},h.defined=function(a){return arguments.length?(d=a,h):d},h.interpolate=function(a){return arguments.length?(cT.has(a+="")||(a=cS),f=cT.get(e=a),h):e},h.tension=function(a){return arguments.length?(g=a,h):g},h}function cQ(a){return a[0]}function cR(a){return a[1]}function cU(a){return a.join("L")}function cV(a){return cU(a)+"Z"}function cW(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function cX(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function cY(a,b){return a.length<4?cU(a):a[1]+c_(a.slice(1,a.length-1),da(a,b))}function cZ(a,b){return a.length<3?cU(a):a[0]+c_((a.push(a[0]),a),da([a[a.length-2]].concat(a,[a[1]]),b))}function c$(a,b,c){return a.length<3?cU(a):a[0]+c_(a,da(a,b))}function c_(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return cU(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;c&&(d+="Q"+(f[0]-g[0]*2/3)+","+(f[1]-g[1]*2/3)+","+f[0]+","+f[1],e=a[1],i=2);if(b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+h[0]*2/3)+","+(f[1]+h[1]*2/3)+","+k[0]+","+k[1]}return d}function da(a,b){var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,i=a.length;while(++h<i)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function db(a){if(a.length<3)return cU(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f];dj(i,g,h);while(++b<c)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),dj(i,g,h);b=-1;while(++b<2)g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),dj(i,g,h);return i.join("")}function dc(a){if(a.length<4)return cU(a);var b=[],c=-1,d=a.length,e,f=[0],g=[0];while(++c<3)e=a[c],f.push(e[0]),g.push(e[1]);b.push(df(di,f)+","+df(di,g)),--c;while(++c<d)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),dj(b,f,g);return b.join("")}function dd(a){var b,c=-1,d=a.length,e=d+4,f,g=[],h=[];while(++c<4)f=a[c%d],g.push(f[0]),h.push(f[1]);b=[df(di,g),",",df(di,h)],--c;while(++c<e)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),dj(b,g,h);return b.join("")}function de(a,b){var c=a.length-1;if(c){var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,i,j;while(++h<=c)i=a[h],j=h/c,i[0]=b*i[0]+(1-b)*(d+j*f),i[1]=b*i[1]+(1-b)*(e+j*g)}return db(a)}function df(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function dj(a,b,c){a.push("C",df(dg,b),",",df(dg,c),",",df(dh,b),",",df(dh,c),",",df(di,b),",",df(di,c))}function dk(a,b){return(b[1]-a[1])/(b[0]-a[0])}function dl(a){var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=dk(e,f);while(++b<c)d[b]=g+(g=dk(e=f,f=a[b+1]));return d[b]=g,d}function dm(a){var b=[],c,d,e,f,g=dl(a),h=-1,i=a.length-1;while(++h<i)c=dk(a[h],a[h+1]),Math.abs(c)<1e-6?g[h]=g[h+1]=0:(d=g[h]/c,e=g[h+1]/c,f=d*d+e*e,f>9&&(f=c*3/Math.sqrt(f),g[h]=f*d,g[h+1]=f*e));h=-1;while(++h<=i)f=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),b.push([f||0,g[h]*f||0]);return b}function dn(a){return a.length<3?cU(a):a[0]+c_(a,dm(a))}function dp(a){var b,c=-1,d=a.length,e,f;while(++c<d)b=a[c],e=b[0],f=b[1]+cJ,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function dq(a){function l(g){function y(){l.push("M",h(a(n),k),j,i(a(m.reverse()),k),"Z")}var l=[],m=[],n=[],o=-1,p=g.length,r,s=q(b),t=q(d),u=b===c?function(){return w}:q(c),v=d===e?function(){return x}:q(e),w,x;while(++o<p)f.call(this,r=g[o],o)?(m.push([w=+s.call(this,r,o),x=+t.call(this,r,o)]),n.push([+u.call(this,r,o),+v.call(this,r,o)])):m.length&&(y(),m=[],n=[]);return m.length&&y(),l.length?l.join(""):null}var b=cQ,c=cQ,d=0,e=cR,f=p,g=cS,h=cU,i=cU,j="L",k=.7;return l.x=function(a){return arguments.length?(b=c=a,l):c},l.x0=function(a){return arguments.length?(b=a,l):b},l.x1=function(a){return arguments.length?(c=a,l):c},l.y=function(a){return arguments.length?(d=e=a,l):e},l.y0=function(a){return arguments.length?(d=a,l):d},l.y1=function(a){return arguments.length?(e=a,l):e},l.defined=function(a){return arguments.length?(f=a,l):f},l.interpolate=function(a){return arguments.length?(cT.has(a+="")||(a=cS),h=cT.get(g=a),i=h.reverse||h,j=/-closed$/.test(a)?"M":"L",l):g},l.tension=function(a){return arguments.length?(k=a,l):k},l}function dr(a){return a.source}function ds(a){return a.target}function dt(a){return a.radius}function du(a){return a.startAngle}function dv(a){return a.endAngle}function dw(a){return[a.x,a.y]}function dx(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]+cJ;return[c*Math.cos(d),c*Math.sin(d)]}}function dy(){return 64}function dz(){return"circle"}function dA(a){var b=Math.sqrt(a/Math.PI);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+ -b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function dE(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function dF(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function dG(a,b,c){e=[];if(c&&b.length>1){var d=cj(a.domain()),e,f=-1,g=b.length,h=(b[1]-b[0])/++c,i,j;while(++f<g)for(i=c;--i>0;)(j=+b[f]-i*h)>=d[0]&&e.push(j);for(--f,i=0;++i<c&&(j=+b[f]+i*h)<d[1];)e.push(j)}return e}function dL(){dJ||(dJ=a.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var b=a.event,c;try{dJ.scrollTop=1e3,dJ.dispatchEvent(b),c=1e3-dJ.scrollTop}catch(d){c=b.wheelDelta||-b.detail*5}return c}function dM(a){var b=a.source,c=a.target,d=dO(b,c),e=[b];while(b!==d)b=b.parent,e.push(b);var f=e.length;while(c!==d)e.splice(f,0,c),c=c.parent;return e}function dN(a){var b=[],c=a.parent;while(c!=null)b.push(a),a=c,c=c.parent;return b.push(a),b}function dO(a,b){if(a===b)return a;var c=dN(a),d=dN(b),e=c.pop(),f=d.pop(),g=null;while(e===f)g=e,e=c.pop(),f=d.pop();return g}function dR(a){a.fixed|=2}function dS(a){a!==dQ&&(a.fixed&=1)}function dT(){dQ.fixed&=1,dP=dQ=null}function dU(){dQ.px=a.event.x,dQ.py=a.event.y,dP.resume()}function dV(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf){var f=a.nodes,g=f.length,h=-1,i;while(++h<g){i=f[h];if(i==null)continue;dV(i,b,c),a.charge+=i.charge,d+=i.charge*i.cx,e+=i.charge*i.cy}}if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function dW(a){return 20}function dX(a){return 1}function dZ(a){return a.x}function d$(a){return a.y}function d_(a,b,c){a.y0=b,a.y=c}function ec(b){return a.range(b.length)}function ed(a){var b=-1,c=a[0].length,d=[];while(++b<c)d[b]=0;return d}function ee(a){var b=1,c=0,d=a[0][1],e,f=a.length;for(;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function ef(a){return a.reduce(eg,0)}function eg(a,b){return a+b[1]}function eh(a,b){return ei(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ei(a,b){var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];while(++c<=b)f[c]=e*c+d;return f}function ej(b){return[a.min(b),a.max(b)]}function ek(b,c){return a.rebind(b,c,"sort","children","value"),b.links=eo,b.nodes=function(a){return ep=!0,(b.nodes=b)(a)},b}function el(a){return a.children}function em(a){return a.value}function en(a,b){return b.value-a.value}function eo(b){return a.merge(b.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function eq(a,b){return a.value-b.value}function er(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function es(a,b){a._pack_next=b,b._pack_prev=a}function et(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return e*e-c*c-d*d>.001}function eu(a){function l(a){b=Math.min(a.x-a.r,b),c=Math.max(a.x+a.r,c),d=Math.min(a.y-a.r,d),e=Math.max(a.y+a.r,e)}var b=Infinity,c=-Infinity,d=Infinity,e=-Infinity,f=a.length,g,h,i,j,k;a.forEach(ev),g=a[0],g.x=-g.r,g.y=0,l(g);if(f>1){h=a[1],h.x=h.r,h.y=0,l(h);if(f>2){i=a[2],ez(g,h,i),l(i),er(g,i),g._pack_prev=i,er(i,h),h=g._pack_next;for(var m=3;m<f;m++){ez(g,h,i=a[m]);var n=0,o=1,p=1;for(j=h._pack_next;j!==h;j=j._pack_next,o++)if(et(j,i)){n=1;break}if(n==1)for(k=g._pack_prev;k!==j._pack_prev;k=k._pack_prev,p++)if(et(k,i))break;n?(o<p||o==p&&h.r<g.r?es(g,h=j):es(g=k,h),m--):(er(g,i),h=i,l(i))}}}var q=(b+c)/2,r=(d+e)/2,s=0;for(var m=0;m<f;m++){var t=a[m];t.x-=q,t.y-=r,s=Math.max(s,t.r+Math.sqrt(t.x*t.x+t.y*t.y))}return a.forEach(ew),s}function ev(a){a._pack_next=a._pack_prev=a}function ew(a){delete a._pack_next,delete a._pack_prev}function ex(a){var b=a.children;b&&b.length?(b.forEach(ex),a.r=eu(b)):a.r=Math.sqrt(a.value)}function ey(a,b,c,d){var e=a.children;a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d;if(e){var f=-1,g=e.length;while(++f<g)ey(e[f],b,c,d)}}function ez(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function eA(b){return 1+a.max(b,function(a){return a.y})}function eB(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function eC(a){var b=a.children;return b&&b.length?eC(b[0]):a}function eD(a){var b=a.children,c;return b&&(c=b.length)?eD(b[c-1]):a}function eE(a,b){return a.parent==b.parent?1:2}function eF(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function eG(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a._tree.thread}function eH(a,b){var c=a.children;if(c&&(e=c.length)){var d,e,f=-1;while(++f<e)b(d=eH(c[f],b),a)>0&&(a=d)}return a}function eI(a,b){return a.x-b.x}function eJ(a,b){return b.x-a.x}function eK(a,b){return a.depth-b.depth}function eL(a,b){function c(a,d){var e=a.children;if(e&&(i=e.length)){var f,g=null,h=-1,i;while(++h<i)f=e[h],c(f,g),g=f}b(a,d)}c(a,null)}function eM(a){var b=0,c=0,d=a.children,e=d.length,f;while(--e>=0)f=d[e]._tree,f.prelim+=b,f.mod+=b,b+=f.shift+(c+=f.change)}function eN(a,b,c){a=a._tree,b=b._tree;var d=c/(b.number-a.number);a.change+=d,b.change-=d,b.shift+=c,b.prelim+=c,b.mod+=c}function eO(a,b,c){return a._tree.ancestor.parent==b.parent?a._tree.ancestor:c}function eP(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function eQ(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function eR(a){return a.map(eS).join(",")}function eS(a){return/[",\n]/.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}function eU(a,b){return function(c){return c&&a.hasOwnProperty(c.type)?a[c.type](c):b}}function eV(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+ -2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function eW(a,b){eX.hasOwnProperty(a.type)&&eX[a.type](a,b)}function eY(a,b){eW(a.geometry,b)}function eZ(a,b){for(var c=a.features,d=0,e=c.length;d<e;d++)eW(c[d].geometry,b)}function e$(a,b){for(var c=a.geometries,d=0,e=c.length;d<e;d++)eW(c[d],b)}function e_(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)b.apply(null,c[d])}function fa(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)for(var f=c[d],g=0,h=f.length;g<h;g++)b.apply(null,f[g])}function fb(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)for(var f=c[d][0],g=0,h=f.length;g<h;g++)b.apply(null,f[g])}function fc(a,b){b.apply(null,a.coordinates)}function fd(a,b){for(var c=a.coordinates[0],d=0,e=c.length;d<e;d++)b.apply(null,c[d])}function fe(a){return a.source}function ff(a){return a.target}function fg(){function o(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,g=c*e+b*k,h=c*f+b*l,i=c*d+b*j;return[Math.atan2(h,g)/eT,Math.atan2(i,Math.sqrt(g*g+h*h))/eT]}var a,b,c,d,e,f,g,h,i,j,k,l,m,n;return o.distance=function(){return m==null&&(n=1/Math.sin(m=Math.acos(Math.max(-1,Math.min(1,d*j+c*i*Math.cos(g-a)))))),m},o.source=function(g){var h=Math.cos(a=g[0]*eT),i=Math.sin(a);return c=Math.cos(b=g[1]*eT),d=Math.sin(b),e=c*h,f=c*i,m=null,o},o.target=function(a){var b=Math.cos(g=a[0]*eT),c=Math.sin(g);return i=Math.cos(h=a[1]*eT),j=Math.sin(h),k=i*b,l=i*c,m=null,o},o}function fh(a,b){var c=fg().source(a).target(b);return c.distance(),c}function fk(a){var b=0,c=0;for(;;){if(a(b,c))return[b,c];b===0?(b=c+1,c=0):(b-=1,c+=1)}}function fl(a,b,c,d){var e,f,g,h,i,j,k;return e=d[a],f=e[0],g=e[1],e=d[b],h=e[0],i=e[1],e=d[c],j=e[0],k=e[1],(k-g)*(h-f)-(i-g)*(j-f)>0}function fm(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function fn(a,b,c,d){var e=a[0],f=b[0],g=c[0],h=d[0],i=a[1],j=b[1],k=c[1],l=d[1],m=e-g,n=f-e,o=h-g,p=i-k,q=j-i,r=l-k,s=(o*p-r*m)/(r*n-o*q);return[e+s*n,i+s*q]}function fp(a,b){var c={list:a.map(function(a,b){return{index:b,x:a[0],y:a[1]}}).sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:0}),bottomSite:null},d={list:[],leftEnd:null,rightEnd:null,init:function(){d.leftEnd=d.createHalfEdge(null,"l"),d.rightEnd=d.createHalfEdge(null,"l"),d.leftEnd.r=d.rightEnd,d.rightEnd.l=d.leftEnd,d.list.unshift(d.leftEnd,d.rightEnd)},createHalfEdge:function(a,b){return{edge:a,side:b,vertex:null,l:null,r:null}},insert:function(a,b){b.l=a,b.r=a.r,a.r.l=b,a.r=b},leftBound:function(a){var b=d.leftEnd;do b=b.r;while(b!=d.rightEnd&&e.rightOf(b,a));return b=b.l,b},del:function(a){a.l.r=a.r,a.r.l=a.l,a.edge=null},right:function(a){return a.r},left:function(a){return a.l},leftRegion:function(a){return a.edge==null?c.bottomSite:a.edge.region[a.side]},rightRegion:function(a){return a.edge==null?c.bottomSite:a.edge.region[fo[a.side]]}},e={bisect:function(a,b){var c={region:{l:a,r:b},ep:{l:null,r:null}},d=b.x-a.x,e=b.y-a.y,f=d>0?d:-d,g=e>0?e:-e;return c.c=a.x*d+a.y*e+(d*d+e*e)*.5,f>g?(c.a=1,c.b=e/d,c.c/=d):(c.b=1,c.a=d/e,c.c/=e),c},intersect:function(a,b){var c=a.edge,d=b.edge;if(!c||!d||c.region.r==d.region.r)return null;var e=c.a*d.b-c.b*d.a;if(Math.abs(e)<1e-10)return null;var f=(c.c*d.b-d.c*c.b)/e,g=(d.c*c.a-c.c*d.a)/e,h=c.region.r,i=d.region.r,j,k;h.y<i.y||h.y==i.y&&h.x<i.x?(j=a,k=c):(j=b,k=d);var l=f>=k.region.r.x;return l&&j.side==="l"||!l&&j.side==="r"?null:{x:f,y:g}},rightOf:function(a,b){var c=a.edge,d=c.region.r,e=b.x>d.x;if(e&&a.side==="l")return 1;if(!e&&a.side==="r")return 0;if(c.a===1){var f=b.y-d.y,g=b.x-d.x,h=0,i=0;!e&&c.b<0||e&&c.b>=0?i=h=f>=c.b*g:(i=b.x+b.y*c.b>c.c,c.b<0&&(i=!i),i||(h=1));if(!h){var j=d.x-c.region.l.x;i=c.b*(g*g-f*f)<j*f*(1+2*g/j+c.b*c.b),c.b<0&&(i=!i)}}else{var k=c.c-c.a*b.x,l=b.y-k,m=b.x-d.x,n=k-d.y;i=l*l>m*m+n*n}return a.side==="l"?i:!i},endPoint:function(a,c,d){a.ep[c]=d;if(!a.ep[fo[c]])return;b(a)},distance:function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}},f={list:[],insert:function(a,b,c){a.vertex=b,a.ystar=b.y+c;for(var d=0,e=f.list,g=e.length;d<g;d++){var h=e[d];if(a.ystar>h.ystar||a.ystar==h.ystar&&b.x>h.vertex.x)continue;break}e.splice(d,0,a)},del:function(a){for(var b=0,c=f.list,d=c.length;b<d&&c[b]!=a;++b);c.splice(b,1)},empty:function(){return f.list.length===0},nextEvent:function(a){for(var b=0,c=f.list,d=c.length;b<d;++b)if(c[b]==a)return c[b+1];return null},min:function(){var a=f.list[0];return{x:a.vertex.x,y:a.ystar}},extractMin:function(){return f.list.shift()}};d.init(),c.bottomSite=c.list.shift();var g=c.list.shift(),h,i,j,k,l,m,n,o,p,q,r,s,t;for(;;){f.empty()||(h=f.min());if(g&&(f.empty()||g.y<h.y||g.y==h.y&&g.x<h.x))i=d.leftBound(g),j=d.right(i),n=d.rightRegion(i),s=e.bisect(n,g),m=d.createHalfEdge(s,"l"),d.insert(i,m),q=e.intersect(i,m),q&&(f.del(i),f.insert(i,q,e.distance(q,g))),i=m,m=d.createHalfEdge(s,"r"),d.insert(i,m),q=e.intersect(m,j),q&&f.insert(m,q,e.distance(q,g)),g=c.list.shift();else if(!f.empty())i=f.extractMin(),k=d.left(i),j=d.right(i),l=d.right(j),n=d.leftRegion(i),o=d.rightRegion(j),r=i.vertex,e.endPoint(i.edge,i.side,r),e.endPoint(j.edge,j.side,r),d.del(i),f.del(j),d.del(j),t="l",n.y>o.y&&(p=n,n=o,o=p,t="r"),s=e.bisect(n,o),m=d.createHalfEdge(s,t),d.insert(k,m),e.endPoint(s,fo[t],r),q=e.intersect(k,m),q&&(f.del(k),f.insert(k,q,e.distance(q,n))),q=e.intersect(m,l),q&&f.insert(m,q,e.distance(q,n));else break}for(i=d.right(d.leftEnd);i!=d.rightEnd;i=d.right(i))b(i.edge)}function fq(){return{leaf:!0,nodes:[],point:null}}function fr(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=(c+e)*.5,h=(d+f)*.5,i=b.nodes;i[0]&&fr(a,i[0],c,d,g,h),i[1]&&fr(a,i[1],g,d,e,h),i[2]&&fr(a,i[2],c,h,g,f),i[3]&&fr(a,i[3],g,h,e,f)}}function fs(a){return{x:a[0],y:a[1]}}function fu(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function fw(a,b,c,d){var e,f,g=0,h=b.length,i=c.length;while(g<h){if(d>=i)return-1;e=b.charCodeAt(g++);if(e==37){f=fC[b.charAt(g++)];if(!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function fD(a,b,c){return fF.test(b.substring(c,c+=3))?c:-1}function fE(a,b,c){fG.lastIndex=0;var d=fG.exec(b.substring(c,c+10));return d?c+=d[0].length:-1}function fI(a,b,c){var d=fJ.get(b.substring(c,c+=3).toLowerCase());return d==null?-1:(a.m=d,c)}function fK(a,b,c){fL.lastIndex=0;var d=fL.exec(b.substring(c,c+12));return d?(a.m=fM.get(d[0].toLowerCase()),c+=d[0].length):-1}function fO(a,b,c){return fw(a,fB.c.toString(),b,c)}function fP(a,b,c){return fw(a,fB.x.toString(),b,c)}function fQ(a,b,c){return fw(a,fB.X.toString(),b,c)}function fR(a,b,c){f$.lastIndex=0;var d=f$.exec(b.substring(c,c+4));return d?(a.y=+d[0],c+=d[0].length):-1}function fS(a,b,c){f$.lastIndex=0;var d=f$.exec(b.substring(c,c+2));return d?(a.y=fT(+d[0]),c+=d[0].length):-1}function fT(a){return a+(a>68?1900:2e3)}function fU(a,b,c){f$.lastIndex=0;var d=f$.exec(b.substring(c,c+2));return d?(a.m=d[0]-1,c+=d[0].length):-1}function fV(a,b,c){f$.lastIndex=0;var d=f$.exec(b.substring(c,c+2));return d?(a.d=+d[0],c+=d[0].length):-1}function fW(a,b,c){f$.lastIndex=0;var d=f$.exec(b.substring(c,c+2));return d?(a.H=+d[0],c+=d[0].length):-1}function fX(a,b,c){f$.lastIndex=0;var d=f$.exec(b.substring(c,c+2));return d?(a.M=+d[0],c+=d[0].length):-1}function fY(a,b,c){f$.lastIndex=0;var d=f$.exec(b.substring(c,c+2));return d?(a.S=+d[0],c+=d[0].length):-1}function fZ(a,b,c){f$.lastIndex=0;var d=f$.exec(b.substring(c,c+3));return d?(a.L=+d[0],c+=d[0].length):-1}function f_(a,b,c){var d=ga.get(b.substring(c,c+=2).toLowerCase());return d==null?-1:(a.p=d,c)}function gb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=~~(Math.abs(b)/60),e=Math.abs(b)%60;return c+fx(d)+fx(e)}function gd(a){return a.toISOString()}function ge(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){return b(c=a(new ft(c-1)),1),c}function f(a,c){return b(a=new ft(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)while(g<d)c(g)%f||h.push(new Date(+g)),b(g,1);else while(g<d)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{ft=fu;var d=new fu;return d
._=a,g(d,b,c)}finally{ft=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=gf(a);return i.floor=i,i.round=gf(d),i.ceil=gf(e),i.offset=gf(f),i.range=h,a}function gf(a){return function(b,c){try{ft=fu;var d=new fu;return d._=b,a(d,c)._}finally{ft=Date}}}function gg(b,c,d){function e(a){return b(a)}return e.invert=function(a){return gi(b.invert(a))},e.domain=function(a){return arguments.length?(b.domain(a),e):b.domain().map(gi)},e.nice=function(a){var b=gh(e.domain());return e.domain([a.floor(b[0]),a.ceil(b[1])])},e.ticks=function(d,f){var g=gh(e.domain());if(typeof d!="function"){var h=g[1]-g[0],i=h/d,j=a.bisect(gm,i);if(j==gm.length)return c.year(g,d);if(!j)return b.ticks(d).map(gi);Math.log(i/gm[j-1])<Math.log(gm[j]/i)&&--j,d=c[j],f=d[1],d=d[0].range}return d(g[0],new Date(+g[1]+1),f)},e.tickFormat=function(){return d},e.copy=function(){return gg(b.copy(),c,d)},a.rebind(e,b,"range","rangeRound","interpolate","clamp")}function gh(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function gi(a){return new Date(a)}function gj(a){return function(b){var c=a.length-1,d=a[c];while(!d[1](b))d=a[--c];return d[0](b)}}function gk(a){var b=new Date(a,0,1);return b.setFullYear(a),b}function gl(a){var b=a.getFullYear(),c=gk(b),d=gk(b+1);return b+(a-c)/(d-c)}function gu(a){var b=new Date(Date.UTC(a,0,1));return b.setUTCFullYear(a),b}function gv(a){var b=a.getUTCFullYear(),c=gu(b),d=gu(b+1);return b+(a-c)/(d-c)}var a;Date.now||(Date.now=function(){return+(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(b){var c=CSSStyleDeclaration.prototype,d=c.setProperty;c.setProperty=function(a,b,c){d.call(this,a,b+"",c)}}a={version:"2.9.7"};var f=h;try{f(document.documentElement.childNodes)[0].nodeType}catch(i){f=g}var j=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};a.map=function(a){var b=new k;for(var c in a)b.set(c,a[c]);return b},e(k,{has:function(a){return l+a in this},get:function(a){return this[l+a]},set:function(a,b){return this[l+a]=b},remove:function(a){return a=l+a,a in this&&delete this[a]},keys:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},values:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},forEach:function(a){for(var b in this)b.charCodeAt(0)===m&&a.call(this,b.substring(1),this[b])}});var l="\0",m=l.charCodeAt(0);a.functor=q,a.rebind=function(a,b){var c=1,d=arguments.length,e;while(++c<d)a[e=arguments[c]]=r(a,b,b[e]);return a},a.ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},a.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},a.mean=function(a,b){var c=a.length,d,e=0,f=-1,g=0;if(arguments.length===1)while(++f<c)s(d=a[f])&&(e+=(d-e)/++g);else while(++f<c)s(d=b.call(a,a[f],f))&&(e+=(d-e)/++g);return g?e:undefined},a.median=function(b,c){return arguments.length>1&&(b=b.map(c)),b=b.filter(s),b.length?a.quantile(b.sort(a.ascending),.5):undefined},a.min=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&((e=a[c])==null||e!=e))e=undefined;while(++c<d)(f=a[c])!=null&&e>f&&(e=f)}else{while(++c<d&&((e=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&e>f&&(e=f)}return e},a.max=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&((e=a[c])==null||e!=e))e=undefined;while(++c<d)(f=a[c])!=null&&f>e&&(e=f)}else{while(++c<d&&((e=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&f>e&&(e=f)}return e},a.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(arguments.length===1){while(++c<d&&((e=g=a[c])==null||e!=e))e=g=undefined;while(++c<d)(f=a[c])!=null&&(e>f&&(e=f),g<f&&(g=f))}else{while(++c<d&&((e=g=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&(e>f&&(e=f),g<f&&(g=f))}return[e,g]},a.random={normal:function(a,b){return arguments.length<2&&(b=1),arguments.length<1&&(a=0),function(){var c,d,e;do c=Math.random()*2-1,d=Math.random()*2-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}}},a.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(arguments.length===1)while(++f<d)isNaN(e=+a[f])||(c+=e);else while(++f<d)isNaN(e=+b.call(a,a[f],f))||(c+=e);return c},a.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=a[d-1],f=c-d;return f?e+f*(a[d]-e):e},a.transpose=function(b){return a.zip.apply(a,b)},a.zip=function(){if(!(f=arguments.length))return[];for(var b=-1,c=a.min(arguments,t),d=new Array(c);++b<c;)for(var e=-1,f,g=d[b]=new Array(f);++e<f;)g[e]=arguments[e][b];return d},a.bisector=function(a){return{left:function(b,c,d,e){arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>>1;a.call(b,b[f],f)<c?d=f+1:e=f}return d},right:function(b,c,d,e){arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>>1;c<a.call(b,b[f],f)?e=f:d=f+1}return d}}};var u=a.bisector(function(a){return a});a.bisectLeft=u.left,a.bisect=a.bisectRight=u.right,a.first=function(b,c){var d=0,e=b.length,f=b[0],g;arguments.length===1&&(c=a.ascending);while(++d<e)c.call(b,f,g=b[d])>0&&(f=g);return f},a.last=function(b,c){var d=0,e=b.length,f=b[0],g;arguments.length===1&&(c=a.ascending);while(++d<e)c.call(b,f,g=b[d])<=0&&(f=g);return f},a.nest=function(){function f(c,g){if(g>=b.length)return e?e.call(a,c):d?c.sort(d):c;var h=-1,i=c.length,j=b[g++],l,m,n=new k,o,p={};while(++h<i)(o=n.get(l=j(m=c[h])))?o.push(m):n.set(l,[m]);return n.forEach(function(a){p[a]=f(n.get(a),g)}),p}function g(a,d){if(d>=b.length)return a;var e=[],f=c[d++],h;for(h in a)e.push({key:h,values:g(a[h],d)});return f&&e.sort(function(a,b){return f(a.key,b.key)}),e}var a={},b=[],c=[],d,e;return a.map=function(a){return f(a,0)},a.entries=function(a){return g(f(a,0),0)},a.key=function(c){return b.push(c),a},a.sortKeys=function(d){return c[b.length-1]=d,a},a.sortValues=function(b){return d=b,a},a.rollup=function(b){return e=b,a},a},a.keys=function(a){var b=[];for(var c in a)b.push(c);return b},a.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},a.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},a.permute=function(a,b){var c=[],d=-1,e=b.length;while(++d<e)c[d]=a[b[d]];return c},a.merge=function(a){return Array.prototype.concat.apply([],a)},a.split=function(a,b){var c=[],d=[],e,f=-1,g=a.length;arguments.length<2&&(b=v);while(++f<g)b.call(d,e=a[f],f)?d=[]:(d.length||c.push(d),d.push(e));return c},a.range=function(a,b,c){arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0));if((b-a)/c===Infinity)throw new Error("infinite range");var d=[],e=x(Math.abs(c)),f=-1,g;a*=e,b*=e,c*=e;if(c<0)while((g=a+c*++f)>b)d.push(g/e);else while((g=a+c*++f)<b)d.push(g/e);return d},a.requote=function(a){return a.replace(y,"\\$&")};var y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;a.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)},a.xhr=function(a,b,c){var d=new XMLHttpRequest;arguments.length<3?(c=b,b=null):b&&d.overrideMimeType&&d.overrideMimeType(b),d.open("GET",a,!0),b&&d.setRequestHeader("Accept",b),d.onreadystatechange=function(){if(d.readyState===4){var a=d.status;c(!a&&d.response||a>=200&&a<300||a===304?d:null)}},d.send(null)},a.text=function(b,c,d){function e(a){d(a&&a.responseText)}arguments.length<3&&(d=c,c=null),a.xhr(b,c,e)},a.json=function(b,c){a.text(b,"application/json",function(a){c(a?JSON.parse(a):null)})},a.html=function(b,c){a.text(b,"text/html",function(a){if(a!=null){var b=document.createRange();b.selectNode(document.body),a=b.createContextualFragment(a)}c(a)})},a.xml=function(b,c,d){function e(a){d(a&&a.responseXML)}arguments.length<3&&(d=c,c=null),a.xhr(b,c,e)};var z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:z,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&(c=a.substring(0,b),a=a.substring(b+1)),z.hasOwnProperty(c)?{space:z[c],local:a}:a}},a.dispatch=function(){var a=new A,b=-1,c=arguments.length;while(++b<c)a[arguments[b]]=B(a);return a},A.prototype.on=function(a,b){var c=a.indexOf("."),d="";return c>0&&(d=a.substring(c+1),a=a.substring(0,c)),arguments.length<2?this[a].on(d):this[a].on(d,b)},a.format=function(b){var c=C.exec(b),d=c[1]||" ",e=c[3]||"",f=c[5],g=+c[6],h=c[7],i=c[8],j=c[9],k=1,l="",m=!1;i&&(i=+i.substring(1)),f&&(d="0",h&&(g-=Math.floor((g-1)/4)));switch(j){case"n":h=!0,j="g";break;case"%":k=100,l="%",j="f";break;case"p":k=100,l="%",j="r";break;case"d":m=!0,i=0;break;case"s":k=-1,j="r"}return j=="r"&&!i&&(j="g"),j=D.get(j)||F,function(b){if(m&&b%1)return"";var c=b<0&&(b=-b)?"−":e;if(k<0){var n=a.formatPrefix(b,i);b=n.scale(b),l=n.symbol}else b*=k;b=j(b,i);if(f){var o=b.length+c.length;o<g&&(b=(new Array(g-o+1)).join(d)+b),h&&(b=G(b)),b=c+b}else{h&&(b=G(b)),b=c+b;var o=b.length;o<g&&(b=(new Array(g-o+1)).join(d)+b)}return b+l}};var C=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,D=a.map({g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(b,c){return a.round(b,c=E(b,c)).toFixed(Math.max(0,Math.min(20,c)))}}),H=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(I);a.formatPrefix=function(b,c){var d=0;return b&&(b<0&&(b*=-1),c&&(b=a.round(b,E(b,c))),d=1+Math.floor(1e-12+Math.log(b)/Math.LN10),d=Math.max(-24,Math.min(24,Math.floor((d<=0?d+1:d-1)/3)*3))),H[8+d/3]};var J=S(2),K=S(3),L=function(){return R},M=a.map({linear:L,poly:S,quad:function(){return J},cubic:function(){return K},sin:function(){return T},exp:function(){return U},circle:function(){return V},elastic:W,back:X,bounce:function(){return Y}}),N=a.map({"in":R,out:P,"in-out":Q,"out-in":function(a){return Q(P(a))}});a.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.substring(0,b):a,d=b>=0?a.substring(b+1):"in";return c=M.get(c)||L,d=N.get(d)||R,O(d(c.apply(null,Array.prototype.slice.call(arguments,1))))},a.event=null,a.transform=function(b){var c=document.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(a){c.setAttribute("transform",a);var b=c.transform.baseVal.consolidate();return new ba(b?b.matrix:bf)})(b)},ba.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var be=180/Math.PI,bf={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolate=function(b,c){var d=a.interpolators.length,e;while(--d>=0&&!(e=a.interpolators[d](b,c)));return e},a.interpolateNumber=function(a,b){return b-=a,function(c){return a+b*c}},a.interpolateRound=function(a,b){return b-=a,function(c){return Math.round(a+b*c)}},a.interpolateString=function(b,c){var d,e,f,g=0,h=0,i=[],j=[],k,l;bj.lastIndex=0;for(e=0;d=bj.exec(c);++e)d.index&&i.push(c.substring(g,h=d.index)),j.push({i:i.length,x:d[0]}),i.push(null),g=bj.lastIndex;g<c.length&&i.push(c.substring(g));for(e=0,k=j.length;(d=bj.exec(b))&&e<k;++e){l=j[e];if(l.x==d[0]){if(l.i)if(i[l.i+1]==null){i[l.i-1]+=l.x,i.splice(l.i,1);for(f=e+1;f<k;++f)j[f].i--}else{i[l.i-1]+=l.x+i[l.i+1],i.splice(l.i,2);for(f=e+1;f<k;++f)j[f].i-=2}else if(i[l.i+1]==null)i[l.i]=l.x;else{i[l.i]=l.x+i[l.i+1],i.splice(l.i+1,1);for(f=e+1;f<k;++f)j[f].i--}j.splice(e,1),k--,e--}else l.x=a.interpolateNumber(parseFloat(d[0]),parseFloat(l.x))}while(e<k)l=j.pop(),i[l.i+1]==null?i[l.i]=l.x:(i[l.i]=l.x+i[l.i+1],i.splice(l.i+1,1)),k--;return i.length===1?i[0]==null?j[0].x:function(){return c}:function(a){for(e=0;e<k;++e)i[(l=j[e]).i]=l.x(a);return i.join("")}},a.interpolateTransform=function(b,c){if(f=bh(b,c))return f;var d=[],e=[],f,g=a.transform(b),h=a.transform(c),i=g.translate,j=h.translate,k=g.rotate,l=h.rotate,m=g.skew,n=h.skew,o=g.scale,p=h.scale;return i[0]!=j[0]||i[1]!=j[1]?(d.push("translate(",null,",",null,")"),e.push({i:1,x:a.interpolateNumber(i[0],j[0])},{i:3,x:a.interpolateNumber(i[1],j[1])})):j[0]||j[1]?d.push("translate("+j+")"):d.push(""),k!=l?(k-l>180?l+=360:l-k>180&&(k+=360),e.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:a.interpolateNumber(k,l)})):l&&d.push(d.pop()+"rotate("+l+")"),m!=n?e.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:a.interpolateNumber(m,n)}):n&&d.push(d.pop()+"skewX("+n+")"),o[0]!=p[0]||o[1]!=p[1]?(f=d.push(d.pop()+"scale(",null,",",null,")"),e.push({i:f-4,x:a.interpolateNumber(o[0],p[0])},{i:f-2,x:a.interpolateNumber(o[1],p[1])})):(p[0]!=1||p[1]!=1)&&d.push(d.pop()+"scale("+p+")"),f=e.length,function(a){var b=-1,c;while(++b<f)d[(c=e[b]).i]=c.x(a);return d.join("")}};var bg=["","","translate","scale","rotate","skewX","skewY"],bh=function(b,c){var d=document.createElementNS(a.ns.prefix.svg,"g"),e=document.createElementNS(a.ns.prefix.svg,"g");return(bh=function(b,c){d.setAttribute("transform",b),e.setAttribute("transform",c),b=d.transform.baseVal,c=e.transform.baseVal;var f=[],g=[],h=-1,i=b.numberOfItems,j=c.numberOfItems,k,l,m;if(j!==i)if(!j)c=bi(b);else if(!i)b=bi(c),i=j;else return;else if(!j)return;while(++h<i){k=b.getItem(h),l=c.getItem(h),m=k.type;if(m!==l.type||!m)return;switch(m){case 1:f.push(new ba(k.matrix)),g.push(new ba(l.matrix));continue;case 2:ra=k.matrix.e+","+k.matrix.f,rb=l.matrix.e+","+l.matrix.f;break;case 3:ra=k.matrix.a+","+k.matrix.d,rb=l.matrix.a+","+l.matrix.d;break;default:ra=k.angle,rb=l.angle}f.push(m=bg[m],"(",ra,")"),g.push(m,"(",rb,")")}return a.interpolateString(f.join(""),g.join(""))})(b,c)};a.interpolateRgb=function(b,c){b=a.rgb(b),c=a.rgb(c);var d=b.r,e=b.g,f=b.b,g=c.r-d,h=c.g-e,i=c.b-f;return function(a){return"#"+bp(Math.round(d+g*a))+bp(Math.round(e+h*a))+bp(Math.round(f+i*a))}},a.interpolateHsl=function(b,c){b=a.hsl(b),c=a.hsl(c);var d=b.h,e=b.s,f=b.l,g=c.h-d,h=c.s-e,i=c.l-f;return g>180?g-=360:g<-180&&(g+=360),function(a){return bw(d+g*a,e+h*a,f+i*a).toString()}},a.interpolateArray=function(b,c){var d=[],e=[],f=b.length,g=c.length,h=Math.min(b.length,c.length),i;for(i=0;i<h;++i)d.push(a.interpolate(b[i],c[i]));for(;i<f;++i)e[i]=b[i];for(;i<g;++i)e[i]=c[i];return function(a){for(i=0;i<h;++i)e[i]=d[i](a);return e}},a.interpolateObject=function(a,b){var c={},d={},e;for(e in a)e in b?c[e]=bk(e)(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}};var bj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;a.interpolators=[a.interpolateObject,function(b,c){return c instanceof Array&&a.interpolateArray(b,c)},function(b,c){return(typeof b=="string"||typeof c=="string")&&a.interpolateString(b+"",c+"")},function(b,c){return(typeof c=="string"?bt.has(c)||/^(#|rgb\(|hsl\()/.test(c):c instanceof bo||c instanceof bv)&&a.interpolateRgb(b,c)},function(b,c){return!isNaN(b=+b)&&!isNaN(c=+c)&&a.interpolateNumber(b,c)}],a.rgb=function(a,b,c){return arguments.length===1?a instanceof bo?bn(a.r,a.g,a.b):bq(""+a,bn,bw):bn(~~a,~~b,~~c)},bo.prototype.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return!b&&!c&&!d?bn(e,e,e):(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),bn(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a))))},bo.prototype.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),bn(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))},bo.prototype.hsl=function(){return br(this.r,this.g,this.b)},bo.prototype.toString=function(){return"#"+bp(this.r)+bp(this.g)+bp(this.b)};var bt=a.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});bt.forEach(function(a,b){bt.set(a,bq(b,bn,bw))}),a.hsl=function(a,b,c){return arguments.length===1?a instanceof bv?bu(a.h,a.s,a.l):bq(""+a,br,bu):bu(+a,+b,+c)},bv.prototype.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),bu(this.h,this.s,this.l/a)},bv.prototype.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),bu(this.h,this.s,a*this.l)},bv.prototype.rgb=function(){return bw(this.h,this.s,this.l)},bv.prototype.toString=function(){return this.rgb().toString()};var by=function(a,b){return b.querySelector(a)},bz=function(a,b){return b.querySelectorAll(a)},bA=document.documentElement,bB=bA.matchesSelector||bA.webkitMatchesSelector||bA.mozMatchesSelector||bA.msMatchesSelector||bA.oMatchesSelector,bC=function(a,b){return bB.call(a,b)};typeof Sizzle=="function"&&(by=function(a,b){return Sizzle(a,b)[0]||null},bz=function(a,b){return Sizzle.uniqueSort(Sizzle(a,b))},bC=Sizzle.matchesSelector);var bD=[];a.selection=function(){return bL},a.selection.prototype=bD,bD.select=function(a){var b=[],c,d,e,f;typeof a!="function"&&(a=bE(a));for(var g=-1,h=this.length;++g<h;){b.push(c=[]),c.parentNode=(e=this[g]).parentNode;for(var i=-1,j=e.length;++i<j;)(f=e[i])?(c.push(d=a.call(f,f.__data__,i)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return bx(b)},bD.selectAll=function(a){var b=[],c,d;typeof a!="function"&&(a=bF(a));for(var e=-1,g=this.length;++e<g;)for(var h=this[e],i=-1,j=h.length;++i<j;)if(d=h[i])b.push(c=f(a.call(d,d.__data__,i))),c.parentNode=d;return bx(b)},bD.attr=function(b,c){function e(){this.removeAttribute(b)}function f(){this.removeAttributeNS(b.space,b.local)}function g(){this.setAttribute(b,c)}function h(){this.setAttributeNS(b.space,b.local,c)}function i(){var a=c.apply(this,arguments);a==null?this.removeAttribute(b):this.setAttribute(b,a)}function j(){var a=c.apply(this,arguments);a==null?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,a)}b=a.ns.qualify(b);if(arguments.length<2){var d=this.node();return b.local?d.getAttributeNS(b.space,b.local):d.getAttribute(b)}return this.each(c==null?b.local?f:e:typeof c=="function"?b.local?j:i:b.local?h:g)},bD.classed=function(a,b){var c=w(a).split(" "),d=c.length,e=-1;if(arguments.length>1){while(++e<d)bG.call(this,c[e],b);return this}while(++e<d)if(!bG.call(this,c[e]))return!1;return!0},bD.style=function(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);d==null?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return arguments.length<3&&(c=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(a):this.each(b==null?d:typeof b=="function"?f:e)},bD.property=function(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);c==null?delete this[a]:this[a]=c}return arguments.length<2?this.node()[a]:this.each(b==null?c:typeof b=="function"?e:d)},bD.text=function(a){return arguments.length<1?this.node().textContent:this.each(typeof a=="function"?function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a})},bD.html=function(a){return arguments.length<1?this.node().innerHTML:this.each(typeof a=="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a})},bD.append=function(b){function c(){return this.appendChild(document.createElementNS(this.namespaceURI,b))}function d(){return this.appendChild(document.createElementNS(b.space,b.local))}return b=a.ns.qualify(b),this.select(b.local?d:c)},bD.insert=function(b,c){function d(){return this.insertBefore(document.createElementNS(this.namespaceURI,b),by(c,this))}function e(){return this.insertBefore(document.createElementNS(b.space,b.local),by(c,this))}return b=a.ns.qualify(b),this.select(b.local?e:d)},bD.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},bD.data=function(a,b){function g(a,c){var d,e=a.length,f=c.length,g=Math.min(e,f),l=Math.max(e,f),m=[],n=[],o=[],p,q;if(b){var r=new k,s=[],t,u=c.length;for(d=-1;++d<e;)t=b.call(p=a[d],p.__data__,d),r.has(t)?o[u++]=p:r.set(t,p),s.push(t);for(d=-1;++d<f;)t=b.call(c,q=c[d],d),r.has(t)?(m[d]=p=r.get(t),p.__data__=q,n[d]=o[d]=null):(n[d]=bH(q),m[d]=o[d]=null),r.remove(t);for(d=-1;++d<e;)r.has(s[d])&&(o[d]=a[d])}else{for(d=-1;++d<g;)p=a[d],q=c[d],p?(p.__data__=q,m[d]=p,n[d]=o[d]=null):(n[d]=bH(q),m[d]=o[d]=null);for(;d<f;++d)n[d]=bH(c[d]),m[d]=o[d]=null;for(;d<l;++d)o[d]=a[d],n[d]=m[d]=null}n.update=m,n.parentNode=m.parentNode=o.parentNode=a.parentNode,h.push(n),i.push(m),j.push(o)}var c=-1,d=this.length,e,f;if(!arguments.length){a=new Array(d=(e=this[0]).length);while(++c<d)if(f=e[c])a[c]=f.__data__;return a}var h=bM([]),i=bx([]),j=bx([]);if(typeof a=="function")while(++c<d)g(e=this[c],a.call(e,e.parentNode.__data__,c));else while(++c<d)g(e=this[c],a);return i.enter=function(){return h},i.exit=function(){return j},i},bD.datum=bD.map=function(a){return arguments.length<1?this.property("__data__"):this.property("__data__",a)},bD.filter=function(a){var b=[],c,d,e;typeof a!="function"&&(a=bI(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]),c.parentNode=(d=this[f]).parentNode;for(var h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h)&&c.push(e)}return bx(b)},bD.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;--d>=0;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f;return this},bD.sort=function(a){a=bJ.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},bD.on=function(b,c,d){arguments.length<3&&(d=!1);var e="__on"+b,f=b.indexOf(".");return f>0&&(b=b.substring(0,f)),arguments.length<2?(f=this.node()[e])&&f._:this.each(function(){function i(b){var d=a.event;a.event=b,g[0]=f.__data__;try{c.apply(f,g)}finally{a.event=d}}var f=this,g=arguments,h=f[e];h&&(f.removeEventListener(b,h,h.$),delete f[e]),c&&(f.addEventListener(b,f[e]=i,i.$=d),i._=c)})},bD.each=function(a){return bK(this,function(b,c,d){a.call(b,b.__data__,c,d)})},bD.call=function(a){return a.apply(this,(arguments[0]=this,arguments)),this},bD.empty=function(){return!this.node()},bD.node=function(a){for(var b=0,c=this.length;b<c;b++)for(var d=this[b],e=0,f=d.length;e<f;e++){var g=d[e];if(g)return g}return null},bD.transition=function(){var a=[],b,c;for(var d=-1,e=this.length;++d<e;){a.push(b=[]);for(var f=this[d],g=-1,h=f.length;++g<h;)b.push((c=f[g])?{node:c,delay:bY,duration:bZ}:null)}return bO(a,bU||++bT,Date.now())};var bL=bx([[document]]);bL[0].parentNode=bA,a.select=function(a){return typeof a=="string"?bL.select(a):bx([[a]])},a.selectAll=function(a){return typeof a=="string"?bL.selectAll(a):bx([f(a)])};var bN=[];a.selection.enter=bM,a.selection.enter.prototype=bN,bN.append=bD.append,bN.insert=bD.insert,bN.empty=bD.empty,bN.node=bD.node,bN.select=function(a){var b=[],c,d,e,f,g;for(var h=-1,i=this.length;++h<i;){e=(f=this[h]).update,b.push(c=[]),c.parentNode=f.parentNode;for(var j=-1,k=f.length;++j<k;)(g=f[j])?(c.push(e[j]=d=a.call(f.parentNode,g.__data__,j)),d.__data__=g.__data__):c.push(null)}return bx(b)};var bP={},bS=[],bT=0,bU=0,bV=0,bW=250,bX=a.ease("cubic-in-out"),bY=bV,bZ=bW,b$=bX;bS.call=bD.call,a.transition=function(a){return arguments.length?bU?a.transition():a:bL.transition()},a.transition.prototype=bS,bS.select=function(a){var b=[],c,d,e;typeof a!="function"&&(a=bE(a));for(var f=-1,g=this.length;++f<g;){b.push(c=[]);for(var h=this[f],i=-1,j=h.length;++i<j;)(e=h[i])&&(d=a.call(e.node,e.node.__data__,i))?("__data__"in e.node&&(d.__data__=e.node.__data__),c.push({node:d,delay:e.delay,duration:e.duration})):c.push(null)}return bO(b,this.id,this.time).ease(this.ease())},bS.selectAll=function(a){var b=[],c,d,e;typeof a!="function"&&(a=bF(a));for(var f=-1,g=this.length;++f<g;)for(var h=this[f],i=-1,j=h.length;++i<j;)if(e=h[i]){d=a.call(e.node,e.node.__data__,i),b.push(c=[]);for(var k=-1,l=d.length;++k<l;)c.push({node:d[k],delay:e.delay,duration:e.duration})}return bO(b,this.id,this.time).ease(this.ease())},bS.filter=function(a){var b=[],c,d,e;typeof a!="function"&&(a=bI(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);for(var d=this[f],h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e.node,e.node.__data__,h)&&c.push(e)}return bO(b,this.id,this.time).ease(this.ease())},bS.attr=function(a,b){return this.attrTween(a,bR(a,b))},bS.attrTween=function(b,c){function e(a,b){var e=c.call(this,a,b,this.getAttribute(d));return e===bP?(this.removeAttribute(d),null):e&&function(a){this.setAttribute(d,e(a))}}function f(a,b){var e=c.call(this,a,b,this.getAttributeNS(d.space,d.local));return e===bP?(this.removeAttributeNS(d.space,d.local),null):e&&function(a){this.setAttributeNS(d.space,d.local,e(a))}}var d=a.ns.qualify(b);return this.tween("attr."+b,d.local?f:e)},bS.style=function(a,b,c){return arguments.length<3&&(c=""),this.styleTween(a,bR(a,b),c)},bS.styleTween=function(a,b,c){return arguments.length<3&&(c=""),this.tween("style."+a,function(d,e){var f=b.call(this,d,e,window.getComputedStyle(this,null).getPropertyValue(a));return f===bP?(this.style.removeProperty(a),null):f&&function(b){this.style.setProperty(a,f(b),c)}})},bS.text=function(a){return this.tween("text",function(b,c){this.textContent=typeof a=="function"?a.call(this,b,c):a})},bS.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})},bS.delay=function(a){return bK(this,typeof a=="function"?function(b,c,d){b.delay=a.call(b=b.node,b.__data__,c,d)|0}:(a|=0,function(b){b.delay=a}))},bS.duration=function(a){return bK(this,typeof a=="function"?function(b,c,d){b.duration=Math.max(1,a.call(b=b.node,b.__data__,c,d)|0)}:(a=Math.max(1,a|0),function(b){b.duration=a}))},bS.transition=function(){return this.select(o)};var ca=null,cb,cc;a.timer=function(a,b,c){var d=!1,e,f=ca;if(arguments.length<3){if(arguments.length<2)b=0;else if(!isFinite(b))return;c=Date.now()}while(f){if(f.callback===a){f.then=c,f.delay=b,d=!0;break}e=f,f=f.next}d||(ca={callback:a,then:c,delay:b,next:ca}),cb||(cc=clearTimeout(cc),cb=1,cf(cd))},a.timer.flush=function(){var a,b=Date.now(),c=ca;while(c)a=b-c.then,c.delay||(c.flush=c.callback(a)),c=c.next;ce()};var cf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)};a.mouse=function(a){return ch(a,$())};var cg=/WebKit/.test(navigator.userAgent)?-1:0;a.touches=function(a,b){return arguments.length<2&&(b=$().touches),b?f(b).map(function(b){var c=ch(a,b);return c.identifier=b.identifier,c}):[]},a.scale={},a.scale.linear=function(){return cn([0,1],[0,1],a.interpolate,!1)},a.scale.log=function(){return cv(a.scale.linear(),cx)};var cw=a.format(".0e");cx.pow=function(a){return Math.pow(10,a)},cy.pow=function(a){return-Math.pow(10,-a)},a.scale.pow=function(){return cz(a.scale.linear(),1)},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return cB([],{t:"range",x:[]})},a.scale.category10=function(){return a.scale.ordinal().range(cC)},a.scale.category20=function(){return a.scale.ordinal().range(cD)},a.scale.category20b=function(){return a.scale.ordinal().range(cE)},a.scale.category20c=function(){return a.scale.ordinal().range(cF)};var cC=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],cD=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],cE=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],cF=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];a.scale.quantile=function(){return cG([],[])},a.scale.quantize=function(){return cH(0,1,[0,1])},a.scale.identity=function(){return cI([0,1])},a.svg={},a.svg.arc=function(){function e(){var e=a.apply(this,arguments),f=b.apply(this,arguments),g=c.apply(this,arguments)+cJ,h=d.apply(this,arguments)+cJ,i=(h<g&&(i=g,g=h,h=i),h-g),j=i<Math.PI?"0":"1",k=Math.cos(g),l=Math.sin(g),m=Math.cos(h),n=Math.sin(h);return i>=cK?e?"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+ -f+"A"+f+","+f+" 0 1,1 0,"+f+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+ -e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+ -f+"A"+f+","+f+" 0 1,1 0,"+f+"Z":e?"M"+f*k+","+f*l+"A"+f+","+f+" 0 "+j+",1 "+f*m+","+f*n+"L"+e*m+","+e*n+"A"+e+","+e+" 0 "+j+",0 "+e*k+","+e*l+"Z":"M"+f*k+","+f*l+"A"+f+","+f+" 0 "+j+",1 "+f*m+","+f*n+"L0,0"+"Z"}var a=cL,b=cM,c=cN,d=cO;return e.innerRadius=function(b){return arguments.length?(a=q(b),e):a},e.outerRadius=function(a){return arguments.length?(b=q(a),e):b},e.startAngle=function(a){return arguments.length?(c=q(a),e):c},e.endAngle=function(a){return arguments.length?(d=q(a),e):d},e.centroid=function(){var e=(a.apply(this,arguments)+b.apply(this,arguments))/2,f=(c.apply(this,arguments)+d.apply(this,arguments))/2+cJ;return[Math.cos(f)*e,Math.sin(f)*e]},e};var cJ=-Math.PI/2,cK=2*Math.PI-1e-6;a.svg.line=function(){return cP(n)};var cS="linear",cT=a.map({linear:cU,"linear-closed":cV,"step-before":cW,"step-after":cX,basis:db,"basis-open":dc,"basis-closed":dd,bundle:de,cardinal:c$,"cardinal-open":cY,"cardinal-closed":cZ,monotone:dn}),dg=[0,2/3,1/3,0],dh=[0,1/3,2/3,0],di=[0,1/6,2/3,1/6];a.svg.line.radial=function(){var a=cP(dp);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},cW.reverse=cX,cX.reverse=cW,a.svg.area=function(){return dq(Object)},a.svg.area.radial=function(){var a=dq(dp);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},a.svg.chord=function(){function f(c,d){var e=g(this,a,c,d),f=g(this,b,c,d);return"M"+e.p0+i(e.r,e.p1,e.a1-e.a0)+(h(e,f)?j(e.r,e.p1,e.r,e.p0):j(e.r,e.p1,f.r,f.p0)+i(f.r,f.p1,f.a1-f.a0)+j(f.r,f.p1,e.r,e.p0))+"Z"}function g(a,b,f,g){var h=b.call(a,f,g),i=
c.call(a,h,g),j=d.call(a,h,g)+cJ,k=e.call(a,h,g)+cJ;return{r:i,a0:j,a1:k,p0:[i*Math.cos(j),i*Math.sin(j)],p1:[i*Math.cos(k),i*Math.sin(k)]}}function h(a,b){return a.a0==b.a0&&a.a1==b.a1}function i(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Math.PI)+",1 "+b}function j(a,b,c,d){return"Q 0,0 "+d}var a=dr,b=ds,c=dt,d=cN,e=cO;return f.radius=function(a){return arguments.length?(c=q(a),f):c},f.source=function(b){return arguments.length?(a=q(b),f):a},f.target=function(a){return arguments.length?(b=q(a),f):b},f.startAngle=function(a){return arguments.length?(d=q(a),f):d},f.endAngle=function(a){return arguments.length?(e=q(a),f):e},f},a.svg.diagonal=function(){function d(d,e){var f=a.call(this,d,e),g=b.call(this,d,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(c),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var a=dr,b=ds,c=dw;return d.source=function(b){return arguments.length?(a=q(b),d):a},d.target=function(a){return arguments.length?(b=q(a),d):b},d.projection=function(a){return arguments.length?(c=a,d):c},d},a.svg.diagonal.radial=function(){var b=a.svg.diagonal(),c=dw,d=b.projection;return b.projection=function(a){return arguments.length?d(dx(c=a)):c},b},a.svg.mouse=a.mouse,a.svg.touches=a.touches,a.svg.symbol=function(){function c(c,d){return(dB.get(a.call(this,c,d))||dA)(b.call(this,c,d))}var a=dz,b=dy;return c.type=function(b){return arguments.length?(a=q(b),c):a},c.size=function(a){return arguments.length?(b=q(a),c):b},c};var dB=a.map({circle:dA,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+ -3*b+","+ -b+"H"+ -b+"V"+ -3*b+"H"+b+"V"+ -b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+ -b+"V"+b+"H"+ -3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*dD)),c=b*dD;return"M0,"+ -b+"L"+c+",0"+" 0,"+b+" "+ -c+",0"+"Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+ -b+","+ -b+"L"+b+","+ -b+" "+b+","+b+" "+ -b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/dC),c=b*dC/2;return"M0,"+c+"L"+b+","+ -c+" "+ -b+","+ -c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/dC),c=b*dC/2;return"M0,"+ -c+"L"+b+","+c+" "+ -b+","+c+"Z"}});a.svg.symbolTypes=dB.keys();var dC=Math.sqrt(3),dD=Math.tan(30*Math.PI/180);a.svg.axis=function(){function l(l){l.each(function(){var l=a.select(this),m=i==null?b.ticks?b.ticks.apply(b,h):b.domain():i,n=j==null?b.tickFormat?b.tickFormat.apply(b,h):String:j,o=dG(b,m,k),p=l.selectAll(".minor").data(o,String),q=p.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),r=a.transition(p.exit()).style("opacity",1e-6).remove(),s=a.transition(p).style("opacity",1),t=l.selectAll("g").data(m,String),u=t.enter().insert("g","path").style("opacity",1e-6),v=a.transition(t.exit()).style("opacity",1e-6).remove(),w=a.transition(t).style("opacity",1),x,y=ck(b),z=l.selectAll(".domain").data([0]),A=z.enter().append("path").attr("class","domain"),B=a.transition(z),C=b.copy(),D=this.__chart__||C;this.__chart__=C,u.append("line").attr("class","tick"),u.append("text");var E=u.select("line"),F=w.select("line"),G=t.select("text").text(n),H=u.select("text"),I=w.select("text");switch(c){case"bottom":x=dE,q.attr("y2",e),s.attr("x2",0).attr("y2",e),E.attr("y2",d),H.attr("y",Math.max(d,0)+g),F.attr("x2",0).attr("y2",d),I.attr("x",0).attr("y",Math.max(d,0)+g),G.attr("dy",".71em").attr("text-anchor","middle"),B.attr("d","M"+y[0]+","+f+"V0H"+y[1]+"V"+f);break;case"top":x=dE,q.attr("y2",-e),s.attr("x2",0).attr("y2",-e),E.attr("y2",-d),H.attr("y",-(Math.max(d,0)+g)),F.attr("x2",0).attr("y2",-d),I.attr("x",0).attr("y",-(Math.max(d,0)+g)),G.attr("dy","0em").attr("text-anchor","middle"),B.attr("d","M"+y[0]+","+ -f+"V0H"+y[1]+"V"+ -f);break;case"left":x=dF,q.attr("x2",-e),s.attr("x2",-e).attr("y2",0),E.attr("x2",-d),H.attr("x",-(Math.max(d,0)+g)),F.attr("x2",-d).attr("y2",0),I.attr("x",-(Math.max(d,0)+g)).attr("y",0),G.attr("dy",".32em").attr("text-anchor","end"),B.attr("d","M"+ -f+","+y[0]+"H0V"+y[1]+"H"+ -f);break;case"right":x=dF,q.attr("x2",e),s.attr("x2",e).attr("y2",0),E.attr("x2",d),H.attr("x",Math.max(d,0)+g),F.attr("x2",d).attr("y2",0),I.attr("x",Math.max(d,0)+g).attr("y",0),G.attr("dy",".32em").attr("text-anchor","start"),B.attr("d","M"+f+","+y[0]+"H0V"+y[1]+"H"+f)}if(b.ticks)u.call(x,D),w.call(x,C),v.call(x,C),q.call(x,D),s.call(x,C),r.call(x,C);else{var J=C.rangeBand()/2,K=function(a){return C(a)+J};u.call(x,K),w.call(x,K)}})}var b=a.scale.linear(),c="bottom",d=6,e=6,f=6,g=3,h=[10],i=null,j,k=0;return l.scale=function(a){return arguments.length?(b=a,l):b},l.orient=function(a){return arguments.length?(c=a,l):c},l.ticks=function(){return arguments.length?(h=arguments,l):h},l.tickValues=function(a){return arguments.length?(i=a,l):i},l.tickFormat=function(a){return arguments.length?(j=a,l):j},l.tickSize=function(a,b,c){if(!arguments.length)return d;var g=arguments.length-1;return d=+a,e=g>1?+b:d,f=g>0?+arguments[g]:d,l},l.tickPadding=function(a){return arguments.length?(g=+a,l):g},l.tickSubdivide=function(a){return arguments.length?(k=+a,l):k},l},a.svg.brush=function(){function h(b){b.each(function(){var b=a.select(this),f=b.selectAll(".background").data([0]),g=b.selectAll(".extent").data([0]),m=b.selectAll(".resize").data(e,String),n;b.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),f.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),g.enter().append("rect").attr("class","extent").style("cursor","move"),m.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return dH[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),m.style("display",h.empty()?"none":null),m.exit().remove(),c&&(n=ck(c),f.attr("x",n[0]).attr("width",n[1]-n[0]),j(b)),d&&(n=ck(d),f.attr("y",n[0]).attr("height",n[1]-n[0]),k(b)),i(b)})}function i(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+f[+/e$/.test(a)][0]+","+f[+/^s/.test(a)][1]+")"})}function j(a){a.select(".extent").attr("x",f[0][0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1][0]-f[0][0])}function k(a){a.select(".extent").attr("y",f[0][1]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1][1]-f[0][1])}function l(){function y(){var b=a.event.changedTouches;return b?a.touches(e,b)[0]:a.mouse(e)}function z(){a.event.keyCode==32&&(r||(s=null,t[0]-=f[1][0],t[1]-=f[1][1],r=2),Z())}function A(){a.event.keyCode==32&&r==2&&(t[0]+=f[1][0],t[1]+=f[1][1],r=0,Z())}function B(){var b=y(),e=!1;u&&(b[0]+=u[0],b[1]+=u[1]),r||(a.event.altKey?(s||(s=[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]),t[0]=f[+(b[0]<s[0])][0],t[1]=f[+(b[1]<s[1])][1]):s=null),p&&C(b,c,0)&&(j(n),e=!0),q&&C(b,d,1)&&(k(n),e=!0),e&&(i(n),m({type:"brush",mode:r?"move":"resize"}))}function C(a,b,c){var d=ck(b),e=d[0],h=d[1],i=t[c],j=f[1][c]-f[0][c],k,l;r&&(e-=i,h-=j+i),k=Math.max(e,Math.min(h,a[c])),r?l=(k+=i)+j:(s&&(i=Math.max(e,Math.min(h,2*s[c]-k))),i<k?(l=k,k=i):l=i);if(f[0][c]!==k||f[1][c]!==l)return g=null,f[0][c]=k,f[1][c]=l,!0}function D(){B(),n.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),a.select("body").style("cursor",null),v.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),m({type:"brushend"}),Z()}var e=this,l=a.select(a.event.target),m=b.of(e,arguments),n=a.select(e),o=l.datum(),p=!/^(n|s)$/.test(o)&&c,q=!/^(e|w)$/.test(o)&&d,r=l.classed("extent"),s,t=y(),u,v=a.select(window).on("mousemove.brush",B).on("mouseup.brush",D).on("touchmove.brush",B).on("touchend.brush",D).on("keydown.brush",z).on("keyup.brush",A);if(r)t[0]=f[0][0]-t[0],t[1]=f[0][1]-t[1];else if(o){var w=+/w$/.test(o),x=+/^n/.test(o);u=[f[1-w][0]-t[0],f[1-x][1]-t[1]],t[0]=f[w][0],t[1]=f[x][1]}else a.event.altKey&&(s=t.slice());n.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",l.style("cursor")),m({type:"brushstart"}),B(),Z()}var b=_(h,"brushstart","brush","brushend"),c=null,d=null,e=dI[0],f=[[0,0],[0,0]],g;return h.x=function(a){return arguments.length?(c=a,e=dI[!c<<1|!d],h):c},h.y=function(a){return arguments.length?(d=a,e=dI[!c<<1|!d],h):d},h.extent=function(a){var b,e,i,j,k;return arguments.length?(g=[[0,0],[0,0]],c&&(b=a[0],e=a[1],d&&(b=b[0],e=e[0]),g[0][0]=b,g[1][0]=e,c.invert&&(b=c(b),e=c(e)),e<b&&(k=b,b=e,e=k),f[0][0]=b|0,f[1][0]=e|0),d&&(i=a[0],j=a[1],c&&(i=i[1],j=j[1]),g[0][1]=i,g[1][1]=j,d.invert&&(i=d(i),j=d(j)),j<i&&(k=i,i=j,j=k),f[0][1]=i|0,f[1][1]=j|0),h):(a=g||f,c&&(b=a[0][0],e=a[1][0],g||(b=f[0][0],e=f[1][0],c.invert&&(b=c.invert(b),e=c.invert(e)),e<b&&(k=b,b=e,e=k))),d&&(i=a[0][1],j=a[1][1],g||(i=f[0][1],j=f[1][1],d.invert&&(i=d.invert(i),j=d.invert(j)),j<i&&(k=i,i=j,j=k))),c&&d?[[b,i],[e,j]]:c?[b,e]:d&&[i,j])},h.clear=function(){return g=null,f[0][0]=f[0][1]=f[1][0]=f[1][1]=0,h},h.empty=function(){return c&&f[0][0]===f[1][0]||d&&f[0][1]===f[1][1]},a.rebind(h,b,"on")};var dH={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},dI=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.behavior={},a.behavior.drag=function(){function d(){this.on("mousedown.drag",e).on("touchstart.drag",e)}function e(){function k(){var b=d.parentNode,c=a.event.changedTouches;return c?a.touches(b,c)[0]:a.mouse(b)}function l(){if(!d.parentNode)return m();var a=k(),b=a[0]-h[0],c=a[1]-h[1];i|=b|c,h=a,Z(),e({type:"drag",x:a[0]+g[0],y:a[1]+g[1],dx:b,dy:c})}function m(){e({type:"dragend"}),i&&(Z(),a.event.target===f&&j.on("click.drag",n,!0)),j.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function n(){Z(),j.on("click.drag",null)}var d=this,e=b.of(d,arguments),f=a.event.target,g,h=k(),i=0,j=a.select(window).on("mousemove.drag",l).on("touchmove.drag",l).on("mouseup.drag",m,!0).on("touchend.drag",m,!0);c?(g=c.apply(d,arguments),g=[g.x-h[0],g.y-h[1]]):g=[0,0],Z(),e({type:"dragstart"})}var b=_(d,"drag","dragstart","dragend"),c=null;return d.origin=function(a){return arguments.length?(c=a,d):c},a.rebind(d,b,"on")},a.behavior.zoom=function(){function m(){this.on("mousedown.zoom",s).on("mousewheel.zoom",t).on("mousemove.zoom",u).on("DOMMouseScroll.zoom",t).on("dblclick.zoom",v).on("touchstart.zoom",w).on("touchmove.zoom",x).on("touchend.zoom",w)}function n(a){return[(a[0]-b[0])/d,(a[1]-b[1])/d]}function o(a){return[a[0]*d+b[0],a[1]*d+b[1]]}function p(a){d=Math.max(f[0],Math.min(f[1],a))}function q(a,c){c=o(c),b[0]+=a[0]-c[0],b[1]+=a[1]-c[1]}function r(c){i&&i.domain(h.range().map(function(a){return(a-b[0])/d}).map(h.invert)),k&&k.domain(j.range().map(function(a){return(a-b[1])/d}).map(j.invert)),a.event.preventDefault(),c({type:"zoom",scale:d,translate:b})}function s(){function i(){e=1,q(a.mouse(b),h),r(c)}function j(){e&&Z(),f.on("mousemove.zoom",null).on("mouseup.zoom",null),e&&a.event.target===d&&f.on("click.zoom",k,!0)}function k(){Z(),f.on("click.zoom",null)}var b=this,c=g.of(b,arguments),d=a.event.target,e=0,f=a.select(window).on("mousemove.zoom",i).on("mouseup.zoom",j),h=n(a.mouse(b));window.focus(),Z()}function t(){c||(c=n(a.mouse(this))),p(Math.pow(2,dL()*.002)*d),q(a.mouse(this),c),r(g.of(this,arguments))}function u(){c=null}function v(){var b=a.mouse(this),c=n(b);p(a.event.shiftKey?d/2:d*2),q(b,c),r(g.of(this,arguments))}function w(){var b=a.touches(this),f=Date.now();e=d,c={},b.forEach(function(a){c[a.identifier]=n(a)}),Z();if(b.length===1){if(f-l<500){var h=b[0],i=n(b[0]);p(d*2),q(h,i),r(g.of(this,arguments))}l=f}}function x(){var b=a.touches(this),d=b[0],f=c[d.identifier];if(h=b[1]){var h,i=c[h.identifier];d=[(d[0]+h[0])/2,(d[1]+h[1])/2],f=[(f[0]+i[0])/2,(f[1]+i[1])/2],p(a.event.scale*e)}q(d,f),l=null,r(g.of(this,arguments))}var b=[0,0],c,d=1,e,f=dK,g=_(m,"zoom"),h,i,j,k,l;return m.translate=function(a){return arguments.length?(b=a.map(Number),m):b},m.scale=function(a){return arguments.length?(d=+a,m):d},m.scaleExtent=function(a){return arguments.length?(f=a==null?dK:a.map(Number),m):f},m.x=function(a){return arguments.length?(i=a,h=a.copy(),m):i},m.y=function(a){return arguments.length?(k=a,j=a.copy(),m):k},a.rebind(m,g,"on")};var dJ,dK=[0,Infinity];a.layout={},a.layout.bundle=function(){return function(a){var b=[],c=-1,d=a.length;while(++c<d)b.push(dM(a[c]));return b}},a.layout.chord=function(){function k(){var b={},k=[],m=a.range(f),n=[],o,p,q,r,s;c=[],d=[],o=0,r=-1;while(++r<f){p=0,s=-1;while(++s<f)p+=e[r][s];k.push(p),n.push(a.range(f)),o+=p}h&&m.sort(function(a,b){return h(k[a],k[b])}),i&&n.forEach(function(a,b){a.sort(function(a,c){return i(e[b][a],e[b][c])})}),o=(2*Math.PI-g*f)/o,p=0,r=-1;while(++r<f){q=p,s=-1;while(++s<f){var t=m[r],u=n[t][s],v=e[t][u],w=p,x=p+=v*o;b[t+"-"+u]={index:t,subindex:u,startAngle:w,endAngle:x,value:v}}d[t]={index:t,startAngle:q,endAngle:p,value:(p-q)/o},p+=g}r=-1;while(++r<f){s=r-1;while(++s<f){var y=b[r+"-"+s],z=b[s+"-"+r];(y.value||z.value)&&c.push(y.value<z.value?{source:z,target:y}:{source:y,target:z})}}j&&l()}function l(){c.sort(function(a,b){return j((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var b={},c,d,e,f,g=0,h,i,j;return b.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,b):e},b.padding=function(a){return arguments.length?(g=a,c=d=null,b):g},b.sortGroups=function(a){return arguments.length?(h=a,c=d=null,b):h},b.sortSubgroups=function(a){return arguments.length?(i=a,c=null,b):i},b.sortChords=function(a){return arguments.length?(j=a,c&&l(),b):j},b.chords=function(){return c||k(),c},b.groups=function(){return d||k(),d},b},a.layout.force=function(){function u(a){return function(b,c,d,e,f){if(b.point!==a){var g=b.cx-a.x,h=b.cy-a.y,i=1/Math.sqrt(g*g+h*h);if((e-c)*i<l){var j=b.charge*i*i;return a.px-=g*j,a.py-=h*j,!0}if(b.point&&isFinite(i)){var j=b.pointCharge*i*i;a.px-=g*j,a.py-=h*j}}return!b.charge}}function v(a){dR(dQ=a),dP=b}var b={},c=a.dispatch("start","tick","end"),d=[1,1],e,f,g=.9,h=dW,i=dX,j=-30,k=.1,l=.8,m,o=[],p=[],r,s,t;return b.tick=function(){if((f*=.99)<.005)return c.end({type:"end",alpha:f=0}),!0;var b=o.length,e=p.length,h,i,l,m,n,q,v,w,x;for(i=0;i<e;++i){l=p[i],m=l.source,n=l.target,w=n.x-m.x,x=n.y-m.y;if(q=w*w+x*x)q=f*s[i]*((q=Math.sqrt(q))-r[i])/q,w*=q,x*=q,n.x-=w*(v=m.weight/(n.weight+m.weight)),n.y-=x*v,m.x+=w*(v=1-v),m.y+=x*v}if(v=f*k){w=d[0]/2,x=d[1]/2,i=-1;if(v)while(++i<b)l=o[i],l.x+=(w-l.x)*v,l.y+=(x-l.y)*v}if(j){dV(h=a.geom.quadtree(o),f,t),i=-1;while(++i<b)(l=o[i]).fixed||h.visit(u(l))}i=-1;while(++i<b)l=o[i],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*g,l.y-=(l.py-(l.py=l.y))*g);c.tick({type:"tick",alpha:f})},b.nodes=function(a){return arguments.length?(o=a,b):o},b.links=function(a){return arguments.length?(p=a,b):p},b.size=function(a){return arguments.length?(d=a,b):d},b.linkDistance=function(a){return arguments.length?(h=q(a),b):h},b.distance=b.linkDistance,b.linkStrength=function(a){return arguments.length?(i=q(a),b):i},b.friction=function(a){return arguments.length?(g=a,b):g},b.charge=function(a){return arguments.length?(j=typeof a=="function"?a:+a,b):j},b.gravity=function(a){return arguments.length?(k=a,b):k},b.theta=function(a){return arguments.length?(l=a,b):l},b.alpha=function(d){return arguments.length?(f?d>0?f=d:f=0:d>0&&(c.start({type:"start",alpha:f=d}),a.timer(b.tick)),b):f},b.start=function(){function n(b,c){var d=q(a),e=-1,f=d.length,g;while(++e<f)if(!isNaN(g=d[e][b]))return g;return Math.random()*c}function q(){if(!l){l=[];for(c=0;c<e;++c)l[c]=[];for(c=0;c<f;++c){var b=p[c];l[b.source.index].push(b.target),l[b.target.index].push(b.source)}}return l[a]}var a,c,e=o.length,f=p.length,g=d[0],k=d[1],l,m;for(a=0;a<e;++a)(m=o[a]).index=a,m.weight=0;r=[],s=[];for(a=0;a<f;++a)m=p[a],typeof m.source=="number"&&(m.source=o[m.source]),typeof m.target=="number"&&(m.target=o[m.target]),r[a]=h.call(this,m,a),s[a]=i.call(this,m,a),++m.source.weight,++m.target.weight;for(a=0;a<e;++a)m=o[a],isNaN(m.x)&&(m.x=n("x",g)),isNaN(m.y)&&(m.y=n("y",k)),isNaN(m.px)&&(m.px=m.x),isNaN(m.py)&&(m.py=m.y);t=[];if(typeof j=="function")for(a=0;a<e;++a)t[a]=+j.call(this,o[a],a);else for(a=0;a<e;++a)t[a]=j;return b.resume()},b.resume=function(){return b.alpha(.1)},b.stop=function(){return b.alpha(0)},b.drag=function(){e||(e=a.behavior.drag().origin(n).on("dragstart",v).on("drag",dU).on("dragend",dT)),this.on("mouseover.force",dR).on("mouseout.force",dS).call(e)},a.rebind(b,c,"on")};var dP,dQ;a.layout.partition=function(){function d(a,b,c,e){var f=a.children;a.x=b,a.y=a.depth*e,a.dx=c,a.dy=e;if(f&&(h=f.length)){var g=-1,h,i,j;c=a.value?c/a.value:0;while(++g<h)d(i=f[g],b,j=i.value*c,e),b+=j}}function e(a){var b=a.children,c=0;if(b&&(f=b.length)){var d=-1,f;while(++d<f)c=Math.max(c,e(b[d]))}return 1+c}function f(a,f){var g=b.call(this,a,f);return d(g[0],0,c[0],c[1]/e(g[0])),g}var b=a.layout.hierarchy(),c=[1,1];return f.size=function(a){return arguments.length?(c=a,f):c},ek(f,b)},a.layout.pie=function(){function f(g,h){var i=g.map(function(a,c){return+b.call(f,a,c)}),j=+(typeof d=="function"?d.apply(this,arguments):d),k=((typeof e=="function"?e.apply(this,arguments):e)-d)/a.sum(i),l=a.range(g.length);c!=null&&l.sort(c===dY?function(a,b){return i[b]-i[a]}:function(a,b){return c(g[a],g[b])});var m=[];return l.forEach(function(a){var b;m[a]={data:g[a],value:b=i[a],startAngle:j,endAngle:j+=b*k}}),m}var b=Number,c=dY,d=0,e=2*Math.PI;return f.value=function(a){return arguments.length?(b=a,f):b},f.sort=function(a){return arguments.length?(c=a,f):c},f.startAngle=function(a){return arguments.length?(d=a,f):d},f.endAngle=function(a){return arguments.length?(e=a,f):e},f};var dY={};a.layout.stack=function(){function h(i,j){var k=i.map(function(a,c){return b.call(h,a,c)}),l=k.map(function(a,b){return a.map(function(a,b){return[f.call(h,a,b),g.call(h,a,b)]})}),m=c.call(h,l,j);k=a.permute(k,m),l=a.permute(l,m);var n=d.call(h,l,j),o=k.length,p=k[0].length,q,r,s;for(r=0;r<p;++r){e.call(h,k[0][r],s=n[r],l[0][r][1]);for(q=1;q<o;++q)e.call(h,k[q][r],s+=l[q-1][r][1],l[q][r][1])}return i}var b=n,c=ec,d=ed,e=d_,f=dZ,g=d$;return h.values=function(a){return arguments.length?(b=a,h):b},h.order=function(a){return arguments.length?(c=typeof a=="function"?a:ea.get(a)||ec,h):c},h.offset=function(a){return arguments.length?(d=typeof a=="function"?a:eb.get(a)||ed,h):d},h.x=function(a){return arguments.length?(f=a,h):f},h.y=function(a){return arguments.length?(g=a,h):g},h.out=function(a){return arguments.length?(e=a,h):e},h};var ea=a.map({"inside-out":function(b){var c=b.length,d,e,f=b.map(ee),g=b.map(ef),h=a.range(c).sort(function(a,b){return f[a]-f[b]}),i=0,j=0,k=[],l=[];for(d=0;d<c;++d)e=h[d],i<j?(i+=g[e],k.push(e)):(j+=g[e],l.push(e));return l.reverse().concat(k)},reverse:function(b){return a.range(b.length).reverse()},"default":ec}),eb=a.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,i=[];for(g=0;g<c;++g){for(f=0,h=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h),d.push(h)}for(g=0;g<c;++g)i[g]=(e-d[g])/2;return i},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e=0,f,g,h,i,j,k,l,m,n,o=[];o[0]=m=n=0;for(g=1;g<d;++g){for(f=0,i=0;f<b;++f)i+=a[f][g][1];for(f=0,j=0,l=c[g][0]-c[g-1][0];f<b;++f){for(h=0,k=(a[f][g][1]-a[f][g-1][1])/(2*l);h<f;++h)k+=(a[h][g][1]-a[h][g-1][1])/l;j+=k*a[f][g][1]}o[g]=m-=i?j/i*l:0,m<n&&(n=m)}for(g=0;g<d;++g)o[g]-=n;return o},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(e=0,g=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:ed});a.layout.histogram=function(){function f(f,g){var h=[],i=f.map(c,this),j=d.call(this,i,g),k=e.call(this,j,i,g),l,g=-1,m=i.length,n=k.length-1,o=b?1:1/m,p;while(++g<n)l=h[g]=[],l.dx=k[g+1]-(l.x=k[g]),l.y=0;if(n>0){g=-1;while(++g<m)p=i[g],p>=j[0]&&p<=j[1]&&(l=h[a.bisect(k,p,1,n)-1],l.y+=o,l.push(f[g]))}return h}var b=!0,c=Number,d=ej,e=eh;return f.value=function(a){return arguments.length?(c=a,f):c},f.range=function(a){return arguments.length?(d=q(a),f):d},f.bins=function(a){return arguments.length?(e=typeof a=="number"?function(b){return ei(b,a)}:q(a),f):e},f.frequency=function(a){return arguments.length?(b=!!a,f):b},f},a.layout.hierarchy=function(){function d(e,g,h){var i=b.call(f,e,g),j=ep?e:{data:e};j.depth=g,h.push(j);if(i&&(l=i.length)){var k=-1,l,m=j.children=[],n=0,o=g+1,p;while(++k<l)p=d(i[k],o,h),p.parent=j,m.push(p),n+=p.value;a&&m.sort(a),c&&(j.value=n)}else c&&(j.value=+c.call(f,e,g)||0);return j}function e(a,b){var d=a.children,g=0;if(d&&(i=d.length)){var h=-1,i,j=b+1;while(++h<i)g+=e(d[h],j)}else c&&(g=+c.call(f,ep?a:a.data,b)||0);return c&&(a.value=g),g}function f(a){var b=[];return d(a,0,b),b}var a=en,b=el,c=em;return f.sort=function(b){return arguments.length?(a=b,f):a},f.children=function(a){return arguments.length?(b=a,f):b},f.value=function(a){return arguments.length?(c=a,f):c},f.revalue=function(a){return e(a,0),a},f};var ep=!1;a.layout.pack=function(){function d(a,d){var e=b.call(this,a,d),f=e[0];f.x=0,f.y=0,ex(f);var g=c[0],h=c[1],i=1/Math.max(2*f.r/g,2*f.r/h);return ey(f,g/2,h/2,i),e}var b=a.layout.hierarchy().sort(eq),c=[1,1];return d.size=function(a){return arguments.length?(c=a,d):c},ek(d,b)},a.layout.cluster=function(){function e(a,e){var f=b.call(this,a,e),g=f[0],h,i=0,j,k;eL(g,function(a){var b=a.children;b&&b.length?(a.x=eB(b),a.y=eA(b)):(a.x=h?i+=c(a,h):0,a.y=0,h=a)});var l=eC(g),m=eD(g),n=l.x-c(l,m)/2,o=m.x+c(m,l)/2;return eL(g,function(a){a.x=(a.x-n)/(o-n)*d[0],a.y=(1-(g.y?a.y/g.y:1))*d[1]}),f}var b=a.layout.hierarchy().sort(null).value(null),c=eE,d=[1,1];return e.separation=function(a){return arguments.length?(c=a,e):c},e.size=function(a){return arguments.length?(d=a,e):d},ek(e,b)},a.layout.tree=function(){function e(a,e){function h(a,b){var d=a.children,e=a._tree;if(d&&(f=d.length)){var f,g=d[0],i,k=g,l,m=-1;while(++m<f)l=d[m],h(l,i),k=j(l,i,k),i=l;eM(a);var n=.5*(g._tree.prelim+l._tree.prelim);b?(e.prelim=b._tree.prelim+c(a,b),e.mod=e.prelim-n):e.prelim=n}else b&&(e.prelim=b._tree.prelim+c(a,b))}function i(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(e=c.length)){var d=-1,e;b+=a._tree.mod;while(++d<e)i(c[d],b)}}function j(a,b,d){if(b){var e=a,f=a,g=b,h=a.parent.children[0],i=e._tree.mod,j=f._tree.mod,k=g._tree.mod,l=h._tree.mod,m;while(g=eG(g),e=eF(e),g&&e)h=eF(h),f=eG(f),f._tree.ancestor=a,m=g._tree.prelim+k-e._tree.prelim-i+c(g,e),m>0&&(eN(eO(g,a,d),a,m),i+=m,j+=m),k+=g._tree.mod,i+=e._tree.mod,l+=h._tree.mod,j+=f._tree.mod;g&&!eG(f)&&(f._tree.thread=g,f._tree.mod+=k-j),e&&!eF(h)&&(h._tree.thread=e,h._tree.mod+=i-l,d=a)}return d}var f=b.call(this,a,e),g=f[0];eL(g,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}}),h(g),i(g,-g._tree.prelim);var k=eH(g,eJ),l=eH(g,eI),m=eH(g,eK),n=k.x-c(k,l)/2,o=l.x+c(l,k)/2,p=m.depth||1;return eL(g,function(a){a.x=(a.x-n)/(o-n)*d[0],a.y=a.depth/p*d[1],delete a._tree}),f}var b=a.layout.hierarchy().sort(null).value(null),c=eE,d=[1,1];return e.separation=function(a){return arguments.length?(c=a,e):c},e.size=function(a){return arguments.length?(d=a,e):d},ek(e,b)},a.layout.treemap=function(){function j(a,b){var c=-1,d=a.length,e,f;while(++c<d)f=(e=a[c]).value*(b<0?0:b),e.area=isNaN(f)||f<=0?0:f}function k(a){var b=a.children;if(b&&b.length){var c=f(a),d=[],e=b.slice(),g,h=Infinity,i,l=Math.min(c.dx,c.dy),o;j(e,c.dx*c.dy/a.value),d.area=0;while((o=e.length)>0)d.push(g=e[o-1]),d.area+=g.area,(i=m(d,l))<=h?(e.pop(),h=i):(d.area-=d.pop().area,n(d,l,c,!1),l=Math.min(c.dx,c.dy),d.length=d.area=0,h=Infinity);d.length&&(n(d,l,c,!0),d.length=d.area=0),b.forEach(k)}}function l(a){var b=a.children;if(b&&b.length){var c=f(a),d=b.slice(),e,g=[];j(d,c.dx*c.dy/a.value),g.area=0;while(e=d.pop())g.push(e),g.area+=e.area,e.z!=null&&(n(g,e.z?c.dx:c.dy,c,!d.length),g.length=g.area=0);b.forEach(l)}}function m(a,b){var c=a.area,d,e=0,f=Infinity,g=-1,h=a.length;while(++g<h){if(!(d=a[g].area))continue;d<f&&(f=d),d>e&&(e=d)}return c*=c,b*=b,c?Math.max(b*e*i/c,c/(b*f*i)):Infinity}function n(a,b,d,e){var f=-1,g=a.length,h=d.x,i=d.y,j=b?c(a.area/b):0,k;if(b==d.dx){if(e||j>d.dy)j=d.dy;while(++f<g)k=a[f],k.x=h,k.y=i,k.dy=j,h+=k.dx=Math.min(d.x+d.dx-h,j?c(k.area/j):0);k.z=!0,k.dx+=d.x+d.dx-h,d.y+=j,d.dy-=j}else{if(e||j>d.dx)j=d.dx;while(++f<g)k=a[f],k.x=h,k.y=i,k.dx=j,i+=k.dy=Math.min(d.y+d.dy-i,j?c(k.area/j):0);k.z=!1,k.dy+=d.y+d.dy-i,d.x+=j,d.dx-=j}}function o(a){var c=h||b(a),e=c[0];return e.x=0,e.y=0,e.dx=d[0],e.dy=d[1],h&&b.revalue(e),j([e],e.dx*e.dy/e.value),(h?l:k)(e),g&&(h=c),c}var b=a.layout.hierarchy(),c=Math.round,d=[1,1],e=null,f=eP,g=!1,h,i=.5*(1+Math.sqrt(5));return o.size=function(a){return arguments.length?(d=a,o):d},o.padding=function(a){function b(b){var c=a.call(o,b,b.depth);return c==null?eP(b):eQ(b,typeof c=="number"?[c,c,c,c]:c)}function c(b){return eQ(b,a)}if(!arguments.length)return e;var d;return f=(e=a)==null?eP:(d=typeof a)==="function"?b:d==="number"?(a=[a,a,a,a],c):c,o},o.round=function(a){return arguments.length?(c=a?Math.round:Number,o):c!=Number},o.sticky=function(a){return arguments.length?(g=a,h=null,o):g},o.ratio=function(a){return arguments.length?(i=a,o):i},ek(o,b)},a.csv=function(b,c){a.text(b,"text/csv",function(b){c(b&&a.csv.parse(b))})},a.csv.parse=function(b){var c;return a.csv.parseRows(b,function(a,b){if(b){var d={},e=-1,f=c.length;while(++e<f)d[c[e]]=a[e];return d}return c=a,null})},a.csv.parseRows=function(a,b){function j(){if(f.lastIndex>=a.length)return d;if(i)return i=!1,c;var b=f.lastIndex;if(a.charCodeAt(b)===34){var e=b;while(e++<a.length)if(a.charCodeAt(e)===34){if(a.charCodeAt(e+1)!==34)break;e++}f.lastIndex=e+2;var g=a.charCodeAt(e+1);return g===13?(i=!0,a.charCodeAt(e+2)===10&&f.lastIndex++):g===10&&(i=!0),a.substring(b+1,e).replace(/""/g,'"')}var h=f.exec(a);return h?(i=h[0].charCodeAt(0)!==44,a.substring(b,h.index)):(f.lastIndex=a.length,a.substring(b))}var c={},d={},e=[],f=/\r\n|[,\r\n]/g,g=0,h,i;f.lastIndex=0;while((h=j())!==d){var k=[];while(h!==c&&h!==d)k.push(h),h=j();if(b&&!(k=b(k,g++)))continue;e.push(k)}return e},a.csv.format=function(a){return a.map(eR).join("\n")},a.geo={};var eT=Math.PI/180;a.geo.azimuthal=function(){function i(b){var f=b[0]*eT-e,i=b[1]*eT,j=Math.cos(f),k=Math.sin(f),l=Math.cos(i),m=Math.sin(i),n=a!=="orthographic"?h*m+g*l*j:null,o,p=a==="stereographic"?1/(1+n):a==="gnomonic"?1/n:a==="equidistant"?(o=Math.acos(n),o?o/Math.sin(o):0):a==="equalarea"?Math.sqrt(2/(1+n)):1,q=p*l*k,r=p*(h*l*j-g*m);return[c*q+d[0],c*r+d[1]]}var a="orthographic",b,c=200,d=[480,250],e,f,g,h;return i.invert=function(b){var f=(b[0]-d[0])/c,i=(b[1]-d[1])/c,j=Math.sqrt(f*f+i*i),k=a==="stereographic"?2*Math.atan(j):a==="gnomonic"?Math.atan(j):a==="equidistant"?j:a==="equalarea"?2*Math.asin(.5*j):Math.asin(j),l=Math.sin(k),m=Math.cos(k);return[(e+Math.atan2(f*l,j*g*m+i*h*l))/eT,Math.asin(m*h-(j?i*l*g/j:0))/eT]},i.mode=function(b){return arguments.length?(a=b+"",i):a},i.origin=function(a){return arguments.length?(b=a,e=b[0]*eT,f=b[1]*eT,g=Math.cos(f),h=Math.sin(f),i):b},i.scale=function(a){return arguments.length?(c=+a,i):c},i.translate=function(a){return arguments.length?(d=[+a[0],+a[1]],i):d},i.origin([0,0])},a.geo.albers=function(){function i(a){var b=f*(eT*a[0]-e),i=Math.sqrt(g-2*f*Math.sin(eT*a[1]))/f;return[c*i*Math.sin(b)+d[0],c*(i*Math.cos(b)-h)+d[1]]}function j(){var c=eT*b[0],d=eT*b[1],j=eT*a[1],k=Math.sin(c),l=Math.cos(c);return e=eT*a[0],f=.5*(k+Math.sin(d)),g=l*l+2*f*k,h=Math.sqrt(g-2*f*Math.sin(j))/f,i}var a=[-98,38],b=[29.5,45.5],c=1e3,d=[480,250],e,f,g,h;return i.invert=function(a){var b=(a[0]-d[0])/c,i=(a[1]-d[1])/c,j=h+i,k=Math.atan2(b,j),l=Math.sqrt(b*b+j*j);return[(e+k/f)/eT,Math.asin((g-l*l*f*f)/(2*f))/eT]},i.origin=function(b){return arguments.length?(a=[+b[0],+b[1]],j()):a},i.parallels=function(a){return arguments.length?(b=[+a[0],+a[1]],j()):b},i.scale=function(a){return arguments.length?(c=+a,i):c},i.translate=function(a){return arguments.length?(d=[+a[0],+a[1]],i):d},j()},a.geo.albersUsa=function(){function f(a){var f=a[0],g=a[1];return(g>50?c:f<-140?d:g<21?e:b)(a)}var b=a.geo.albers(),c=a.geo.albers().origin([-160,60]).parallels([55,65]),d=a.geo.albers().origin([-160,20]).parallels([8,18]),e=a.geo.albers().origin([-60,10]).parallels([8,18]);return f.scale=function(a){return arguments.length?(b.scale(a),c.scale(a*.6),d.scale(a),e.scale(a*1.5),f.translate(b.translate())):b.scale()},f.translate=function(a){if(!arguments.length)return b.translate();var g=b.scale()/1e3,h=a[0],i=a[1];return b.translate(a),c.translate([h-400*g,i+170*g]),d.translate([h-190*g,i+200*g]),e.translate([h+580*g,i+430*g]),f},f.scale(b.scale())},a.geo.bonne=function(){function g(g){var h=g[0]*eT-c,i=g[1]*eT-d;if(e){var j=f+e-i,k=h*Math.cos(i)/j;h=j*Math.sin(k),i=j*Math.cos(k)-f}else h*=Math.cos(i),i*=-1;return[a*h+b[0],a*i+b[1]]}var a=200,b=[480,250],c,d,e,f;return g.invert=function(d){var g=(d[0]-b[0])/a,h=(d[1]-b[1])/a;if(e){var i=f+h,j=Math.sqrt(g*g+i*i);h=f+e-j,g=c+j*Math.atan2(g,i)/Math.cos(h)}else h*=-1,g/=Math.cos(h);return[g/eT,h/eT]},g.parallel=function(a){return arguments.length?(f=1/Math.tan(e=a*eT),g):e/eT},g.origin=function(a){return arguments.length?(c=a[0]*eT,d=a[1]*eT,g):[c/eT,d/eT]},g.scale=function(b){return arguments.length?(a=+b,g):a},g.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],g):b},g.origin([0,0]).parallel(45)},a.geo.equirectangular=function(){function c(c){var d=c[0]/360,e=-c[1]/360;return[a*d+b[0],a*e+b[1]]}var a=500,b=[480,250];return c.invert=function(c){var d=(c[0]-b[0])/a,e=(c[1]-b[1])/a;return[360*d,-360*e]},c.scale=function(b){return arguments.length?(a=+b,c):a},c.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],c):b},c},a.geo.mercator=function(){function c(c){var d=c[0]/360,e=-(Math.log(Math.tan(Math.PI/4+c[1]*eT/2))/eT)/360;return[a*d+b[0],a*Math.max(-0.5,Math.min(.5,e))+b[1]]}var a=500,b=[480,250];return c.invert=function(c){var d=(c[0]-b[0])/a,e=(c[1]-b[1])/a;return[360*d,2*Math.atan(Math.exp(-360*e*eT))/eT-90]},c.scale=function(b){return arguments.length?(a=+b,c):a},c.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],c):b},c},a.geo.path=function(){function f(a,d){typeof b=="function"&&(c=eV(b.apply(this,arguments))),h(a);var f=e.length?e.join(""):null;return e=[],f}function g(a){return d(a).join(",")}function j(a){var b=m(a[0]),c=0,d=a.length;while(++c<d)b-=m(a[c]);return b}function k(b){var c=a.geom.polygon(b[0].map(d)),e=c.area(),f=c.centroid(e<0?(e*=-1,1):-1),g=f[0],h=f[1],i=e,j=0,k=b.length;while(++j<k)c=a.geom.polygon(b[j].map(d)),e=c.area(),f=c.centroid(e<0?(e*=-1,1):-1),g-=f[0],h-=f[1],i-=e;return[g,h,6*i]}function m(b){return Math.abs(a.geom.polygon(b.map(d)).area())}var b=4.5,c=eV(b),d=a.geo.albersUsa(),e=[],h=eU({FeatureCollection:function(a){var b=a.features,c=-1,d=b.length;while(++c<d)e.push(h(b[c].geometry))},Feature:function(a){h(a.geometry)},Point:function(a){e.push("M",g(a.coordinates),c)},MultiPoint:function(a){var b=a.coordinates,d=-1,f=b.length;while(++d<f)e.push("M",g(b[d]),c)},LineString:function(a){var b=a.coordinates,c=-1,d=b.length;e.push("M");while(++c<d)e.push(g(b[c]),"L");e.pop()},MultiLineString:function(a){var b=a.coordinates,c=-1,d=b.length,f,h,i;while(++c<d){f=b[c],h=-1,i=f.length,e.push("M");while(++h<i)e.push(g(f[h]),"L");e.pop()}},Polygon:function(a){var b=a.coordinates,c=-1,d=b.length,f,h,i;while(++c<d){f=b[c],h=-1;if((i=f.length-1)>0){e.push("M");while(++h<i)e.push(g(f[h]),"L");e[e.length-1]="Z"}}},MultiPolygon:function(a){var b=a.coordinates,c=-1,d=b.length,f,h,i,j,k,l;while(++c<d){f=b[c],h=-1,i=f.length;while(++h<i){j=f[h],k=-1;if((l=j.length-1)>0){e.push("M");while(++k<l)e.push(g(j[k]),"L");e[e.length-1]="Z"}}}},GeometryCollection:function(a){var b=a.geometries,c=-1,d=b.length;while(++c<d)e.push(h(b[c]))}}),i=f.area=eU({FeatureCollection:function(a){var b=0,c=a.features,d=-1,e=c.length;while(++d<e)b+=i(c[d]);return b},Feature:function(a){return i(a.geometry)},Polygon:function(a){return j(a.coordinates)},MultiPolygon:function(a){var b=0,c=a.coordinates,d=-1,e=c.length;while(++d<e)b+=j(c[d]);return b},GeometryCollection:function(a){var b=0,c=a.geometries,d=-1,e=c.length;while(++d<e)b+=i(c[d]);return b}},0),l=f.centroid=eU({Feature:function(a){return l(a.geometry)},Polygon:function(a){var b=k(a.coordinates);return[b[0]/b[2],b[1]/b[2]]},MultiPolygon:function(a){var b=0,c=a.coordinates,d,e=0,f=0,g=0,h=-1,i=c.length;while(++h<i)d=k(c[h]),e+=d[0],f+=d[1],g+=d[2];return[e/g,f/g]}});return f.projection=function(a){return d=a,f},f.pointRadius=function(a){return typeof a=="function"?b=a:(b=+a,c=eV(b)),f},f},a.geo.bounds=function(a){var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity;return eW(a,function(a,f){a<b&&(b=a),a>d&&(d=a),f<c&&(c=f),f>e&&(e=f)}),[[b,c],[d,
e]]};var eX={Feature:eY,FeatureCollection:eZ,GeometryCollection:e$,LineString:e_,MultiLineString:fa,MultiPoint:e_,MultiPolygon:fb,Point:fc,Polygon:fd};a.geo.circle=function(){function f(){}function g(a){return e.distance(a)<d}function i(a){var b=-1,c=a.length,f=[],g,h,i,k,l;while(++b<c)l=e.distance(i=a[b]),l<d?(h&&f.push(fh(h,i)((k-d)/(k-l))),f.push(i),g=h=null):(h=i,!g&&f.length&&(f.push(fh(f[f.length-1],h)((d-k)/(l-k))),g=h)),k=l;return g=a[0],h=f[0],h&&i[0]===g[0]&&i[1]===g[1]&&(i[0]!==h[0]||i[1]!==h[1])&&f.push(h),j(f)}function j(a){var b=0,c=a.length,d,f,g=c?[a[0]]:a,h,i=e.source();while(++b<c){h=e.source(a[b-1])(a[b]).coordinates;for(d=0,f=h.length;++d<f;)g.push(h[d])}return e.source(i),g}var b=[0,0],c=89.99,d=c*eT,e=a.geo.greatArc().source(b).target(n);f.clip=function(a){return typeof b=="function"&&e.source(b.apply(this,arguments)),h(a)||null};var h=eU({FeatureCollection:function(a){var b=a.features.map(h).filter(n);return b&&(a=Object.create(a),a.features=b,a)},Feature:function(a){var b=h(a.geometry);return b&&(a=Object.create(a),a.geometry=b,a)},Point:function(a){return g(a.coordinates)&&a},MultiPoint:function(a){var b=a.coordinates.filter(g);return b.length&&{type:a.type,coordinates:b}},LineString:function(a){var b=i(a.coordinates);return b.length&&(a=Object.create(a),a.coordinates=b,a)},MultiLineString:function(a){var b=a.coordinates.map(i).filter(function(a){return a.length});return b.length&&(a=Object.create(a),a.coordinates=b,a)},Polygon:function(a){var b=a.coordinates.map(i);return b[0].length&&(a=Object.create(a),a.coordinates=b,a)},MultiPolygon:function(a){var b=a.coordinates.map(function(a){return a.map(i)}).filter(function(a){return a[0].length});return b.length&&(a=Object.create(a),a.coordinates=b,a)},GeometryCollection:function(a){var b=a.geometries.map(h).filter(n);return b.length&&(a=Object.create(a),a.geometries=b,a)}});return f.origin=function(a){return arguments.length?(b=a,typeof b!="function"&&e.source(b),f):b},f.angle=function(a){return arguments.length?(d=(c=+a)*eT,f):c},a.rebind(f,e,"precision")},a.geo.greatArc=function(){function g(){var a=g.distance.apply(this,arguments),c=0,h=e/a,i=[b];while((c+=h)<1)i.push(f(c));return i.push(d),{type:"LineString",coordinates:i}}var a=fe,b,c=ff,d,e=6*eT,f=fg();return g.distance=function(){return typeof a=="function"&&f.source(b=a.apply(this,arguments)),typeof c=="function"&&f.target(d=c.apply(this,arguments)),f.distance()},g.source=function(c){return arguments.length?(a=c,typeof a!="function"&&f.source(b=a),g):a},g.target=function(a){return arguments.length?(c=a,typeof c!="function"&&f.target(d=c),g):c},g.precision=function(a){return arguments.length?(e=a*eT,g):e/eT},g},a.geo.greatCircle=a.geo.circle,a.geom={},a.geom.contour=function(a,b){var c=b||fk(a),d=[],e=c[0],f=c[1],g=0,h=0,i=NaN,j=NaN,k=0;do k=0,a(e-1,f-1)&&(k+=1),a(e,f-1)&&(k+=2),a(e-1,f)&&(k+=4),a(e,f)&&(k+=8),k===6?(g=j===-1?-1:1,h=0):k===9?(g=0,h=i===1?-1:1):(g=fi[k],h=fj[k]),g!=i&&h!=j&&(d.push([e,f]),i=g,j=h),e+=g,f+=h;while(c[0]!=e||c[1]!=f);return d};var fi=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],fj=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];a.geom.hull=function(a){if(a.length<3)return[];var b=a.length,c=b-1,d=[],e=[],f,g,h=0,i,j,k,l,m,n,o,p;for(f=1;f<b;++f)a[f][1]<a[h][1]?h=f:a[f][1]==a[h][1]&&(h=a[f][0]<a[h][0]?f:h);for(f=0;f<b;++f){if(f===h)continue;j=a[f][1]-a[h][1],i=a[f][0]-a[h][0],d.push({angle:Math.atan2(j,i),index:f})}d.sort(function(a,b){return a.angle-b.angle}),o=d[0].angle,n=d[0].index,m=0;for(f=1;f<c;++f)g=d[f].index,o==d[f].angle?(i=a[n][0]-a[h][0],j=a[n][1]-a[h][1],k=a[g][0]-a[h][0],l=a[g][1]-a[h][1],i*i+j*j>=k*k+l*l?d[f].index=-1:(d[m].index=-1,o=d[f].angle,m=f,n=g)):(o=d[f].angle,m=f,n=g);e.push(h);for(f=0,g=0;f<2;++g)d[g].index!==-1&&(e.push(d[g].index),f++);p=e.length;for(;g<c;++g){if(d[g].index===-1)continue;while(!fl(e[p-2],e[p-1],d[g].index,a))--p;e[p++]=d[g].index}var q=[];for(f=0;f<p;++f)q.push(a[e[f]]);return q},a.geom.polygon=function(a){return a.area=function(){var b=0,c=a.length,d=a[c-1][0]*a[0][1],e=a[c-1][1]*a[0][0];while(++b<c)d+=a[b-1][0]*a[b][1],e+=a[b-1][1]*a[b][0];return(e-d)*.5},a.centroid=function(b){var c=-1,d=a.length,e=0,f=0,g,h=a[d-1],i;arguments.length||(b=-1/(6*a.area()));while(++c<d)g=h,h=a[c],i=g[0]*h[1]-h[0]*g[1],e+=(g[0]+h[0])*i,f+=(g[1]+h[1])*i;return[e*b,f*b]},a.clip=function(b){var c,d=-1,e=a.length,f,g,h=a[e-1],i,j,k;while(++d<e){c=b.slice(),b.length=0,i=a[d],j=c[(g=c.length)-1],f=-1;while(++f<g)k=c[f],fm(k,h,i)?(fm(j,h,i)||b.push(fn(j,k,h,i)),b.push(k)):fm(j,h,i)&&b.push(fn(j,k,h,i)),j=k;h=i}return b},a},a.geom.voronoi=function(a){var b=a.map(function(){return[]});return fp(a,function(a){var c,d,e,f,g,h;a.a===1&&a.b>=0?(c=a.ep.r,d=a.ep.l):(c=a.ep.l,d=a.ep.r),a.a===1?(g=c?c.y:-1e6,e=a.c-a.b*g,h=d?d.y:1e6,f=a.c-a.b*h):(e=c?c.x:-1e6,g=a.c-a.a*e,f=d?d.x:1e6,h=a.c-a.a*f);var i=[e,g],j=[f,h];b[a.region.l.index].push(i,j),b[a.region.r.index].push(i,j)}),b.map(function(b,c){var d=a[c][0],e=a[c][1];return b.forEach(function(a){a.angle=Math.atan2(a[0]-d,a[1]-e)}),b.sort(function(a,b){return a.angle-b.angle}).filter(function(a,c){return!c||a.angle-b[c-1].angle>1e-10})})};var fo={l:"r",r:"l"};a.geom.delaunay=function(a){var b=a.map(function(){return[]}),c=[];return fp(a,function(c){b[c.region.l.index].push(a[c.region.r.index])}),b.forEach(function(b,d){var e=a[d],f=e[0],g=e[1];b.forEach(function(a){a.angle=Math.atan2(a[0]-f,a[1]-g)}),b.sort(function(a,b){return a.angle-b.angle});for(var h=0,i=b.length-1;h<i;h++)c.push([e,b[h],b[h+1]])}),c},a.geom.quadtree=function(a,b,c,d,e){function k(a,b,c,d,e,f){if(isNaN(b.x)||isNaN(b.y))return;if(a.leaf){var g=a.point;g?Math.abs(g.x-b.x)+Math.abs(g.y-b.y)<.01?l(a,b,c,d,e,f):(a.point=null,l(a,g,c,d,e,f),l(a,b,c,d,e,f)):a.point=b}else l(a,b,c,d,e,f)}function l(a,b,c,d,e,f){var g=(c+e)*.5,h=(d+f)*.5,i=b.x>=g,j=b.y>=h,l=(j<<1)+i;a.leaf=!1,a=a.nodes[l]||(a.nodes[l]=fq()),i?c=g:e=g,j?d=h:f=h,k(a,b,c,d,e,f)}var f,g=-1,h=a.length;h&&isNaN(a[0].x)&&(a=a.map(fs));if(arguments.length<5)if(arguments.length===3)e=d=c,c=b;else{b=c=Infinity,d=e=-Infinity;while(++g<h)f=a[g],f.x<b&&(b=f.x),f.y<c&&(c=f.y),f.x>d&&(d=f.x),f.y>e&&(e=f.y);var i=d-b,j=e-c;i>j?e=c+i:d=b+j}var m=fq();return m.add=function(a){k(m,a,b,c,d,e)},m.visit=function(a){fr(a,m,b,c,d,e)},a.forEach(m.add),m},a.time={};var ft=Date;fu.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fv.setUTCDate.apply(this._,arguments)},setDay:function(){fv.setUTCDay.apply(this._,arguments)},setFullYear:function(){fv.setUTCFullYear.apply(this._,arguments)},setHours:function(){fv.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fv.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fv.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fv.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fv.setUTCSeconds.apply(this._,arguments)},setTime:function(){fv.setTime.apply(this._,arguments)}};var fv=Date.prototype;a.time.format=function(a){function c(c){var d=[],e=-1,f=0,g,h;while(++e<b)a.charCodeAt(e)==37&&(d.push(a.substring(f,e),(h=fB[g=a.charAt(++e)])?h(c):g),f=e+1);return d.push(a.substring(f,e)),d.join("")}var b=a.length;return c.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},d=fw(c,a,b,0);if(d!=b.length)return null;"p"in c&&(c.H=c.H%12+c.p*12);var e=new ft;return e.setFullYear(c.y,c.m,c.d),e.setHours(c.H,c.M,c.S,c.L),e},c.toString=function(){return a},c};var fx=a.format("02d"),fy=a.format("03d"),fz=a.format("04d"),fA=a.format("2d"),fB={a:function(a){return fH[a.getDay()].substring(0,3)},A:function(a){return fH[a.getDay()]},b:function(a){return fN[a.getMonth()].substring(0,3)},B:function(a){return fN[a.getMonth()]},c:a.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return fx(a.getDate())},e:function(a){return fA(a.getDate())},H:function(a){return fx(a.getHours())},I:function(a){return fx(a.getHours()%12||12)},j:function(b){return fy(1+a.time.dayOfYear(b))},L:function(a){return fy(a.getMilliseconds())},m:function(a){return fx(a.getMonth()+1)},M:function(a){return fx(a.getMinutes())},p:function(a){return a.getHours()>=12?"PM":"AM"},S:function(a){return fx(a.getSeconds())},U:function(b){return fx(a.time.sundayOfYear(b))},w:function(a){return a.getDay()},W:function(b){return fx(a.time.mondayOfYear(b))},x:a.time.format("%m/%d/%y"),X:a.time.format("%H:%M:%S"),y:function(a){return fx(a.getFullYear()%100)},Y:function(a){return fz(a.getFullYear()%1e4)},Z:gb,"%":function(a){return"%"}},fC={a:fD,A:fE,b:fI,B:fK,c:fO,d:fV,e:fV,H:fW,I:fW,L:fZ,m:fU,M:fX,p:f_,S:fY,x:fP,X:fQ,y:fS,Y:fR},fF=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,fG=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i,fH=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fJ=a.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),fL=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,fM=a.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),fN=["January","February","March","April","May","June","July","August","September","October","November","December"],f$=/\s*\d+/,ga=a.map({am:0,pm:1});a.time.format.utc=function(b){function d(a){try{ft=fu;var b=new ft;return b._=a,c(b)}finally{ft=Date}}var c=a.time.format(b);return d.parse=function(a){try{ft=fu;var b=c.parse(a);return b&&b._}finally{ft=Date}},d.toString=c.toString,d};var gc=a.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");a.time.format.iso=Date.prototype.toISOString?gd:gc,gd.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},gd.toString=gc.toString,a.time.second=ge(function(a){return new ft(Math.floor(a/1e3)*1e3)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*1e3)},function(a){return a.getSeconds()}),a.time.seconds=a.time.second.range,a.time.seconds.utc=a.time.second.utc.range,a.time.minute=ge(function(a){return new ft(Math.floor(a/6e4)*6e4)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*6e4)},function(a){return a.getMinutes()}),a.time.minutes=a.time.minute.range,a.time.minutes.utc=a.time.minute.utc.range,a.time.hour=ge(function(a){var b=a.getTimezoneOffset()/60;return new ft((Math.floor(a/36e5-b)+b)*36e5)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*36e5)},function(a){return a.getHours()}),a.time.hours=a.time.hour.range,a.time.hours.utc=a.time.hour.utc.range,a.time.day=ge(function(a){var b=new ft(0,a.getMonth(),a.getDate());return b.setFullYear(a.getFullYear()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),a.time.days=a.time.day.range,a.time.days.utc=a.time.day.utc.range,a.time.dayOfYear=function(b){var c=a.time.year(b);return Math.floor((b-c-(b.getTimezoneOffset()-c.getTimezoneOffset())*6e4)/864e5)},fH.forEach(function(b,c){b=b.toLowerCase(),c=7-c;var d=a.time[b]=ge(function(b){return(b=a.time.day(b)).setDate(b.getDate()-(b.getDay()+c)%7),b},function(a,b){a.setDate(a.getDate()+Math.floor(b)*7)},function(b){var d=a.time.year(b).getDay();return Math.floor((a.time.dayOfYear(b)+(d+c)%7)/7)-(d!==c)});a.time[b+"s"]=d.range,a.time[b+"s"].utc=d.utc.range,a.time[b+"OfYear"]=function(b){var d=a.time.year(b).getDay();return Math.floor((a.time.dayOfYear(b)+(d+c)%7)/7)}}),a.time.week=a.time.sunday,a.time.weeks=a.time.sunday.range,a.time.weeks.utc=a.time.sunday.utc.range,a.time.weekOfYear=a.time.sundayOfYear,a.time.month=ge(function(b){return b=a.time.day(b),b.setDate(1),b},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),a.time.months=a.time.month.range,a.time.months.utc=a.time.month.utc.range,a.time.year=ge(function(b){return b=a.time.day(b),b.setMonth(0,1),b},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),a.time.years=a.time.year.range,a.time.years.utc=a.time.year.utc.range;var gm=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],gn=[[a.time.second,1],[a.time.second,5],[a.time.second,15],[a.time.second,30],[a.time.minute,1],[a.time.minute,5],[a.time.minute,15],[a.time.minute,30],[a.time.hour,1],[a.time.hour,3],[a.time.hour,6],[a.time.hour,12],[a.time.day,1],[a.time.day,2],[a.time.week,1],[a.time.month,1],[a.time.month,3],[a.time.year,1]],go=[[a.time.format("%Y"),function(a){return!0}],[a.time.format("%B"),function(a){return a.getMonth()}],[a.time.format("%b %d"),function(a){return a.getDate()!=1}],[a.time.format("%a %d"),function(a){return a.getDay()&&a.getDate()!=1}],[a.time.format("%I %p"),function(a){return a.getHours()}],[a.time.format("%I:%M"),function(a){return a.getMinutes()}],[a.time.format(":%S"),function(a){return a.getSeconds()}],[a.time.format(".%L"),function(a){return a.getMilliseconds()}]],gp=a.scale.linear(),gq=gj(go);gn.year=function(a,b){return gp.domain(a.map(gl)).ticks(b).map(gk)},a.time.scale=function(){return gg(a.scale.linear(),gn,gq)};var gr=gn.map(function(a){return[a[0].utc,a[1]]}),gs=[[a.time.format.utc("%Y"),function(a){return!0}],[a.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[a.time.format.utc("%b %d"),function(a){return a.getUTCDate()!=1}],[a.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],[a.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[a.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[a.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[a.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],gt=gj(gs);return gr.year=function(a,b){return gp.domain(a.map(gv)).ticks(b).map(gu)},a.time.scale.utc=function(){return gg(a.scale.linear(),gr,gt)},a});